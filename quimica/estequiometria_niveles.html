<!DOCTYPE html>
<html lang="es">
<head><link rel="icon" type="image/png" href="innoveAI.png">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>EstequiometrÃ­a</title>
<meta name="color-scheme" content="light dark">
<style>
  :root{
    --bg:#f7f9fc; --paper:#ffffff; --ink:#111827; --muted:#48536b;
    --brand:#2563eb; --accent:#0ea5e9; --accent2:#22c55e;
    --border:#d9e1f2; --shadow:0 8px 28px rgba(16,24,40,.08);
    --radius:16px; --maxw:78ch; --base:18px; --lh:1.85;
  }
  :root[data-theme="dark"]{
    --bg:#0e1424; --paper:#101a34; --ink:#eaf2ff; --muted:#aab7d9;
    --brand:#60a5fa; --accent:#7dd3fc; --accent2:#34d399;
    --border:#203054; --shadow:0 10px 26px rgba(0,0,0,.35);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    font-size:var(--base); line-height:var(--lh); color:var(--ink);
    background:
      radial-gradient(1000px 700px at 80% -10%, #ddecff 0%, transparent 60%),
      radial-gradient(900px 600px at 10% 110%, #e2f2ff 0%, transparent 65%),
      var(--bg);
  }
  .progress{position:fixed; inset:0 0 auto 0; height:4px; width:0; z-index:70;
    background:linear-gradient(90deg,var(--accent),var(--accent2))}
  .topbar{position:sticky; top:0; z-index:60; backdrop-filter:blur(10px) saturate(140%);
    background:color-mix(in oklab, var(--paper) 86%, transparent); border-bottom:1px solid var(--border);
    box-shadow:var(--shadow)}
  .wrap{max-width:1200px; margin:0 auto; padding:10px 16px}
  .brand{display:flex; align-items:center; gap:12px; text-decoration:none; color:inherit; font-weight:900}
  .badge{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;background:linear-gradient(135deg,var(--brand),color-mix(in oklab,var(--brand) 45%,white 25%));color:#fff}
  .brand-title{font-size:clamp(20px,3.6vw,28px);margin:0}
  .reader{display:flex;align-items:center;gap:8px;flex-wrap:wrap;border:1px solid var(--border);border-radius:12px;padding:8px;background:color-mix(in oklab,var(--paper) 80%, transparent)}
  .btn{border:1px solid var(--border);background:var(--paper);color:inherit;padding:8px 12px;border-radius:12px;font-weight:800;cursor:pointer}
  .btn.small{padding:6px 10px;font-weight:700}
  .levels{display:flex;gap:8px;padding:8px 2px 10px;overflow:auto;scrollbar-width:thin}
  .pill{border:1px solid var(--border);background:color-mix(in oklab,var(--paper) 88%, transparent);color:inherit;border-radius:14px;padding:8px 12px;font-weight:800;white-space:nowrap;cursor:pointer}
  .pill[aria-selected="true"]{background:color-mix(in oklab,var(--brand) 22%, var(--paper));border-color:color-mix(in oklab,var(--brand) 60%, var(--border));color:#fff;box-shadow:0 10px 22px color-mix(in oklab,var(--brand) 20%, transparent)}
  main{max-width:1200px;margin:0 auto;padding:16px}
  .paper{max-width:var(--maxw);margin:10px auto 30px;padding:20px clamp(16px,3vw,26px);background:var(--paper);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow)}
  h1,h2,h3{color:color-mix(in oklab,var(--ink),var(--brand) 10%)}
  h1{font-size:clamp(28px,5vw,40px);line-height:1.2;margin:.4em 0 .2em}
  h2{font-size:clamp(22px,4vw,28px);line-height:1.28;margin:1.2em 0 .6em}
  h3{font-size:clamp(18px,3vw,22px);line-height:1.35;margin:1em 0 .4em}
  p{margin:.7em 0} ul,ol{margin:.6em 0 .8em 1.2em} li{margin:.25em 0}
  .lead{color:var(--muted)}
  .callout{background:color-mix(in oklab,var(--paper) 85%, var(--bg));border:1px solid var(--border);border-left:6px solid var(--accent);padding:12px 14px;border-radius:12px;margin:12px 0}
  .toc{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:8px;background:color-mix(in oklab,var(--paper) 70%, transparent);padding:12px;border:1px solid var(--border);border-radius:12px}
  .toc a{text-decoration:none;color:color-mix(in oklab,var(--brand) 80%, var(--ink))}
  section.level{display:none} section.level[data-active]{display:block}
  .topbtn{position:fixed;right:16px;bottom:20px;z-index:55;background:var(--brand);color:#fff;border:none;border-radius:999px;padding:10px 14px;font-weight:800;cursor:pointer;box-shadow:var(--shadow);display:none}
  .topbtn.show{display:block}
  .examples{background:color-mix(in oklab,var(--paper) 88%, var(--bg)); border:1px solid var(--border); border-radius:12px; padding:12px 14px; margin:12px 0}
  .examples h4{margin:.2em 0 .6em; font-size:1.05em}
  details{background:color-mix(in oklab,var(--paper) 94%, transparent); border:1px dashed var(--border); border-radius:10px; padding:8px 10px; margin:6px 0}
  summary{cursor:pointer; font-weight:800}
  code{background:color-mix(in oklab,var(--paper) 90%, transparent);border:1px solid var(--border);padding:2px 6px;border-radius:8px}
  table{border-collapse:collapse;width:100%;margin:.6em 0;border:1px solid var(--border)}
  th,td{border:1px solid var(--border);padding:8px 10px;text-align:left}
  th{background:color-mix(in oklab,var(--paper) 85%, var(--bg))}
  .grid-2{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px}
</style>
</head>
<body>
  <div class="progress" id="progress"></div>
  <div class="topbar">
    <div class="wrap" style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap">
      <a class="brand" href="#"><span class="badge">âš–ï¸</span><span class="brand-title">EstequiometrÃ­a â€” por niveles</span></a>
      <div class="reader" role="group" aria-label="Controles de lectura">
        <button class="btn small" id="fs-down" title="Disminuir tamaÃ±o de letra">Aâˆ’</button>
        <button class="btn small" id="fs-up" title="Aumentar tamaÃ±o de letra">A+</button>
        <button class="btn small" id="width-down" title="Reducir ancho de columna">â‡¤</button>
        <button class="btn small" id="width-up" title="Aumentar ancho de columna">â‡¥</button>
        <button class="btn" id="theme-toggle" title="Alternar tema claro/oscuro">â˜€ï¸/ğŸŒ™</button>
      </div>
    </div>
    <div class="wrap">
      <nav class="levels" id="levelBar" role="tablist" aria-label="Nivel">
        <button class="pill" data-level="primaria" role="tab" aria-selected="true">Primaria</button>
        <button class="pill" data-level="eso" role="tab" aria-selected="false">ESO</button>
        <button class="pill" data-level="bach" role="tab" aria-selected="false">Bachillerato</button>
        <button class="pill" data-level="uni" role="tab" aria-selected="false">Universidad</button>
        <button class="pill" data-level="master" role="tab" aria-selected="false">MÃ¡ster</button>
        <button class="pill" data-level="phd" role="tab" aria-selected="false">Doctorado</button>
      </nav>
    </div>
  </div>

  <main>
    <!-- ===== PRIMARIA ===== -->
    <section id="sec-primaria" class="paper level" data-active>
      <h1>Primaria â€” Â¿QuÃ© es la estequiometrÃ­a?</h1>
      <p class="lead">Es como una <strong>receta</strong> de cocina: dice cuÃ¡ntas â€œporcionesâ€ de cada sustancia se necesitan para reaccionar y cuÃ¡nta â€œcomidaâ€ (producto) sale.</p>
      <div class="toc">
        <a href="#p-idea">Idea bÃ¡sica</a>
        <a href="#p-ejemplos">Ejemplos con â€œrecetasâ€</a>
        <a href="#p-ejercicios">Ejercicios</a>
      </div>

      <h2 id="p-idea">Idea bÃ¡sica</h2>
      <p>En 2 Hâ‚‚ + Oâ‚‚ â†’ 2 Hâ‚‚O, por <strong>cada</strong> 2 â€œporcionesâ€ de hidrÃ³geno y 1 de oxÃ­geno salen 2 de agua.</p>

      <h2 id="p-ejemplos">Ejemplos</h2>
      <ul>
        <li>3 Hâ‚‚ + Nâ‚‚ â†’ 2 NHâ‚ƒ (amonÃ­aco).</li>
        <li>2 Na + Clâ‚‚ â†’ 2 NaCl (sal).</li>
      </ul>

      <h2 id="p-ejercicios">Ejercicios (5)</h2>
      <div class="examples"><ol>
        <li><details><summary>Â¿CuÃ¡ntas â€œporcionesâ€ de Hâ‚‚ se necesitan para 1 de Oâ‚‚?</summary>2.</details></li>
        <li><details><summary>En 2 Na + Clâ‚‚ â†’ 2 NaCl, Â¿cuÃ¡ntas de sal salen si entran 4 Na y 2 Clâ‚‚?</summary>4 NaCl.</details></li>
        <li><details><summary>Completa: __ Hâ‚‚ + __ Oâ‚‚ â†’ __ Hâ‚‚O.</summary>2, 1, 2.</details></li>
        <li><details><summary>Â¿QuÃ© significa el nÃºmero delante de la fÃ³rmula?</summary>CuÃ¡ntas â€œunidadesâ€ reaccionan.</details></li>
        <li><details><summary>Si doblas los reactivos, Â¿quÃ© pasa con los productos?</summary>Se doblan (si todo reacciona).</details></li>
      </ol></div>
    </section>

    <!-- ===== ESO ===== -->
    <section id="sec-eso" class="paper level">
      <h1>ESO â€” Mol, masa molar, ecuaciones y proporciones</h1>
      <p class="lead">Aprende a pasar de gramos a moles, ajustar ecuaciones y usar razones estequiomÃ©tricas.</p>
      <div class="toc">
        <a href="#e-mol">Mol y masa molar</a>
        <a href="#e-ajuste">Ajuste de ecuaciones</a>
        <a href="#e-propor">Proporciones y factores</a>
        <a href="#e-ejercicios">Ejercicios</a>
      </div>

      <h2 id="e-mol">Mol y masa molar</h2>
      <ul>
        <li><strong>1 mol</strong> = 6,022Ã—10Â²Â³ partÃ­culas.</li>
        <li><strong>Masa molar (M)</strong>: g/mol; Hâ‚‚O â‰ˆ 18,02 g/mol.</li>
        <li>ConversiÃ³n: <em>n = m/M</em>.</li>
      </ul>

      <h2 id="e-ajuste">Ajuste de ecuaciones</h2>
      <p>Conserva Ã¡tomos: ajusta coeficientes (nÃºmeros delante) sin tocar subÃ­ndices.</p>

      <h2 id="e-propor">Proporciones</h2>
      <p>Usa los coeficientes como <em>proporciones molares</em> para convertir reactivosâ†”productos.</p>

      <h2 id="e-ejercicios">Ejercicios (12)</h2>
      <div class="examples"><ol>
        <li><details><summary>Convierte 36 g de Hâ‚‚O a moles.</summary>36/18,02 â‰ˆ 2,0 mol.</details></li>
        <li><details><summary>Ajusta: Câ‚ƒHâ‚ˆ + Oâ‚‚ â†’ COâ‚‚ + Hâ‚‚O.</summary>1 : 5 â†’ 3 : 4.</details></li>
        <li><details><summary>Â¿CuÃ¡ntos moles de COâ‚‚ produce 1 mol de Câ‚ƒHâ‚ˆ?</summary>3 mol.</details></li>
        <li><details><summary>De 2 mol de Hâ‚‚ y 1 mol de Oâ‚‚, Â¿cuÃ¡ntos mol de Hâ‚‚O?</summary>2 mol.</details></li>
        <li><details><summary>M de NaCl.</summary>â‰ˆ 58,44 g/mol.</details></li>
        <li><details><summary>Convierte 11,6 g de NaCl a mol.</summary>11,6/58,44 â‰ˆ 0,198 mol.</details></li>
        <li><details><summary>Â¿CuÃ¡ntas molÃ©culas hay en 0,5 mol?</summary>0,5Ã—6,022e23 â‰ˆ 3,01Ã—10Â²Â³.</details></li>
        <li><details><summary>Ajusta: Fe + Oâ‚‚ â†’ Feâ‚‚Oâ‚ƒ.</summary>4 Fe + 3 Oâ‚‚ â†’ 2 Feâ‚‚Oâ‚ƒ.</details></li>
        <li><details><summary>ProporciÃ³n molar Nâ‚‚:Hâ‚‚ en sÃ­ntesis de NHâ‚ƒ.</summary>1:3.</details></li>
        <li><details><summary>Calcula moles en 44 g de COâ‚‚.</summary>44/44,01 â‰ˆ 1,0 mol.</details></li>
        <li><details><summary>Si tengo 2 mol de Oâ‚‚, Â¿cuÃ¡nto Hâ‚‚ necesito para hacer agua?</summary>4 mol Hâ‚‚.</details></li>
        <li><details><summary>Â¿QuÃ© significa â€œconservar masaâ€ en una reacciÃ³n?</summary>Que el nÃºmero de Ã¡tomos de cada elemento es el mismo antes y despuÃ©s.</details></li>
      </ol></div>
    </section>

    <!-- ===== BACHILLERATO ===== -->
    <section id="sec-bach" class="paper level">
      <h1>Bachillerato â€” Reactivo limitante, rendimiento, disoluciones y gases</h1>
      <p class="lead">Domina el <strong>reactivo limitante</strong>, el <strong>porcentaje de rendimiento</strong>, la estequiometrÃ­a en disoluciÃ³n (molaridad, diluciones, titulaciones) y <em>gases ideales</em>.</p>
      <div class="toc">
        <a href="#b-limitante">Reactivo limitante y exceso</a>
        <a href="#b-rend">Rendimiento teÃ³rico/%</a>
        <a href="#b-disol">Disoluciones (M, m, %m/m, fracciÃ³n molar)</a>
        <a href="#b-titul">Titulaciones Ã¡cidoâ€“base y redox</a>
        <a href="#b-gases">Gases ideales (PV=nRT)</a>
        <a href="#b-formulas">FÃ³rmula empÃ­rica/molecular</a>
        <a href="#b-ejercicios">Ejercicios</a>
      </div>

      <h2 id="b-limitante">Reactivo limitante</h2>
      <ol>
        <li>Convierte todos los reactivos a moles.</li>
        <li>Divide por su coeficiente estequiomÃ©trico â†’ compara.</li>
        <li>El menor â€œcocienteâ€ limita; usa ese para calcular productos.</li>
      </ol>

      <h2 id="b-rend">Rendimiento</h2>
      <p><strong>Rend. %</strong> = (rendimiento real / teÃ³rico)Ã—100. El teÃ³rico sale del limitante.</p>

      <h2 id="b-disol">Disoluciones</h2>
      <ul>
        <li><strong>M</strong>=mol/L; <strong>m</strong>=mol/kg solvente; <strong>%m/m</strong>, <strong>%m/V</strong>, <strong>x_i</strong> (fracciÃ³n molar).</li>
        <li>DiluciÃ³n: <em>Mâ‚Vâ‚ = Mâ‚‚Vâ‚‚</em> (a T constante y aditividad de volÃºmenes).</li>
      </ul>

      <h2 id="b-titul">Titulaciones</h2>
      <ul>
        <li>Ãcido monoprÃ³tico vs base monoprÃ³tica: <em>Mâ‚Vâ‚ = M_bV_b</em> en el <em>equivalente</em>.</li>
        <li>Redox: usa <em>n</em> electrones por mol (equivalentes).</li>
      </ul>

      <h2 id="b-gases">Gases</h2>
      <ul>
        <li><em>PV = nRT</em>; a <em>CNPT</em> (0 Â°C, 1 atm) 1 mol â‰ˆ 22,414 L (â‰ˆ 22,4 L).</li>
      </ul>

      <h2 id="b-formulas">FÃ³rmula empÃ­rica y molecular</h2>
      <ul>
        <li>Con % en masa â†’ m (100 g) â†’ n â†’ divide por el menor â†’ mÃºltiplos enteros.</li>
        <li>Molecular: empÃ­ricaÃ—<em>k</em> con <em>M</em> experimental.</li>
      </ul>

      <h2 id="b-ejercicios">Ejercicios (18)</h2>
      <div class="examples"><ol>
        <li><details><summary>Limitante: 5,0 g de Hâ‚‚ y 20,0 g de Oâ‚‚ â†’ Hâ‚‚O.</summary>n(Hâ‚‚)=2,5; n(Oâ‚‚)=0,625 mol; cocientes: 2,5/2=1,25 vs 0,625/1=0,625 â†’ limita Oâ‚‚; n(Hâ‚‚O)=2Ã—0,625=1,25 mol.</details></li>
        <li><details><summary>Rendimiento: si se obtienen 20,0 g de Hâ‚‚O del problema anterior.</summary>m_teo=1,25Ã—18,02=22,5 g; Rend%=20,0/22,5â‰ˆ88,9%.</details></li>
        <li><details><summary>Mâ‚Vâ‚=Mâ‚‚Vâ‚‚: Â¿quÃ© V de HCl 0,100 M neutraliza 25,0 mL de NaOH 0,200 M?</summary>V= (0,200Ã—25,0)/0,100=50,0 mL.</details></li>
        <li><details><summary>pH de HCl 3,2Ã—10â»Â³ M.</summary>pHâ‰ˆ2,49.</details></li>
        <li><details><summary>Volumen de COâ‚‚ a CNPT producido por 10,0 g de CaCOâ‚ƒ â†’ CaO+COâ‚‚.</summary>n=10/100,09=0,100 mol â†’ Vâ‰ˆ2,24 L.</details></li>
        <li><details><summary>% en masa: 40,0% C, 6,7% H, 53,3% O â†’ empÃ­rica.</summary>Asume 100 g: n(C)=3,33; n(H)=6,7; n(O)=3,33 â†’ divide/3,33 â†’ CHâ‚‚O.</details></li>
        <li><details><summary>Si M=180 g/mol para el anterior, Â¿molecular?</summary>(CHâ‚‚O)â‚† â†’ Câ‚†Hâ‚â‚‚Oâ‚†.</details></li>
        <li><details><summary>Redox: equivalentes en 25,0 mL de KMnOâ‚„ 0,0200 M (en Ã¡cido, n=5).</summary>eq = MÂ·VÂ·n = 0,0200Ã—0,0250Ã—5=0,00250 mol eâ».</details></li>
        <li><details><summary>CombustiÃ³n: 5,00 g de propano â†’ COâ‚‚ (moles).</summary>n=5/44,10=0,113; moles COâ‚‚=3Ã—0,113=0,339 mol.</details></li>
        <li><details><summary>DiluciÃ³n: de 2,00 M a 0,500 M, preparar 250 mL.</summary>V_stock=Mâ‚‚Vâ‚‚/Mâ‚=0,500Ã—0,250/2,00=0,0625 L.</details></li>
        <li><details><summary>FracciÃ³n molar de NaCl en 1,00 mol NaCl + 9,00 mol Hâ‚‚O.</summary>x_NaCl=0,100.</details></li>
        <li><details><summary>Molalidad de 10,0 g NaCl en 90,0 g Hâ‚‚O.</summary>n=0,171; kg solvente=0,090 â†’ mâ‰ˆ1,90 m.</details></li>
        <li><details><summary>Gases: moles en 5,00 L de Nâ‚‚ a 27 Â°C y 1,00 atm.</summary>n=PV/RT=1Ã—5/(0,082057Ã—300)=0,203 mol.</details></li>
        <li><details><summary>Balancea por ion-electrÃ³n: Crâ‚‚Oâ‚‡Â²â» + FeÂ²âº â†’ CrÂ³âº + FeÂ³âº (Ã¡cido).</summary>Crâ‚‚Oâ‚‡Â²â» + 6 FeÂ²âº + 14 Hâº â†’ 2 CrÂ³âº + 6 FeÂ³âº + 7 Hâ‚‚O.</details></li>
        <li><details><summary>Rend. % cuando se obtienen 8,0 g y el teÃ³rico son 10,0 g.</summary>80%.</details></li>
        <li><details><summary>EmpÃ­rica de 52,2% C, 13,0% H, 34,8% O.</summary>Asume 100 g: nâ‰ˆ4,35;12,9;2,17 â†’ dividir por 2,17 â†’ Câ‚‚Hâ‚†O.</details></li>
        <li><details><summary>Â¿CuÃ¡ntos mL de 0,100 M Naâ‚‚Sâ‚‚Oâ‚ƒ equivalen a 0,00200 mol Iâ‚‚? (n=2)</summary>eq(Iâ‚‚)=0,00400; V=eq/(MÂ·n)=0,00400/(0,100Ã—2)=0,200 L=200 mL.</details></li>
        <li><details><summary>Identifica el limitante: 10 g Al + 10 g Oâ‚‚ â†’ Alâ‚‚Oâ‚ƒ.</summary>n_Al=0,370; n_Oâ‚‚=0,313; cocientes: 0,370/4=0,0925 vs 0,313/3=0,104 â†’ limita Al.</details></li>
      </ol></div>
    </section>

    <!-- ===== UNIVERSIDAD ===== -->
    <section id="sec-uni" class="paper level">
      <h1>Universidad â€” ExtensiÃ³n de reacciÃ³n, matrices y balances</h1>
      <p class="lead">Formaliza la estequiometrÃ­a con <strong>extensiÃ³n de reacciÃ³n</strong> (Î¾), <strong>matriz estequiomÃ©trica</strong> (Î½), balances de elementos, conversiÃ³n, rendimiento y selectividad. Incluye gases reales y titulaciÃ³n con curvas.</p>
      <div class="toc">
        <a href="#u-xi">ExtensiÃ³n de reacciÃ³n (Î¾)</a>
        <a href="#u-matriz">Matriz Î½ y balances</a>
        <a href="#u-conv">ConversiÃ³n, selectividad y rendimiento</a>
        <a href="#u-reactores">EstequiometrÃ­a en reactores</a>
        <a href="#u-gases">Gases reales y fugacidad (idea)</a>
        <a href="#u-titul">Curvas de titulaciÃ³n</a>
        <a href="#u-ejercicios">Ejercicios</a>
      </div>

      <h2 id="u-xi">ExtensiÃ³n de reacciÃ³n</h2>
      <ul>
        <li>Para reacciÃ³n <em>âˆ‘áµ¢ Î½áµ¢ Aáµ¢ = 0</em>, los moles cambian como <em>náµ¢ = náµ¢â° + Î½áµ¢ Î¾</em>.</li>
        <li>En mezclas con varias reacciones, vector <em>Î¾</em> y matriz <em>Î½</em>.</li>
      </ul>

      <h2 id="u-matriz">Matriz estequiomÃ©trica Î½</h2>
      <ul>
        <li>Filas = especies, columnas = reacciones; <em>rank(Î½)</em> = nÂº independiente de reacciones.</li>
        <li>El espacio nulo de <em>Î½áµ€</em> define <em>invariantes</em> (balances elementales).</li>
      </ul>

      <h2 id="u-conv">ConversiÃ³n/Selectividad/Rendimiento</h2>
      <ul>
        <li><strong>X_A</strong> = (n_Aâ° âˆ’ n_A)/n_Aâ°.</li>
        <li><strong>S_B/A</strong> = (moles B formados)/(moles A consumidos en ruta a B).</li>
        <li><strong>Y_B</strong> = (moles B)/(moles A alimentados).</li>
      </ul>

      <h2 id="u-reactores">Reactores (visiÃ³n estequiomÃ©trica)</h2>
      <ul>
        <li><strong>Batch</strong>: variaciÃ³n con el tiempo vÃ­a Î¾(t).</li>
        <li><strong>CSTR</strong>: estado estacionario, balances con caudales <em>Fáµ¢</em> y consumo por reacciÃ³n.</li>
        <li><strong>PFR</strong>: variaciÃ³n espacial (z) con Î¾(z).</li>
      </ul>

      <h2 id="u-gases">Gases reales (idea)</h2>
      <ul>
        <li>Usa factores de compresibilidad <em>Z</em> o fugacidades para mejoras sobre PV=nRT.</li>
      </ul>

      <h2 id="u-titul">Curvas de titulaciÃ³n</h2>
      <ul>
        <li>Ãcido dÃ©bilâ€“base fuerte: Hendersonâ€“Hasselbalch antes del equival. pH en equivalencia â‰ˆ Â½(pK_w + pK_a âˆ’ log C) (aprox.).</li>
      </ul>

      <h2 id="u-ejercicios">Ejercicios (16)</h2>
      <div class="examples"><ol>
        <li><details><summary>Para A â†’ B con Î½_A=âˆ’1, Î½_B=+1 y n_Aâ°=1,0, n_Bâ°=0, expresa náµ¢ en funciÃ³n de Î¾.</summary>n_A=1âˆ’Î¾; n_B=Î¾.</details></li>
        <li><details><summary>Con A + B â†’ C y n_Aâ°=2, n_Bâ°=1, Â¿Î¾_max?</summary>Por B: Î¾_max=1.</details></li>
        <li><details><summary>Construye Î½ para: Câ‚ƒHâ‚ˆ + 5 Oâ‚‚ â†’ 3 COâ‚‚ + 4 Hâ‚‚O.</summary>Î½=[âˆ’1, âˆ’5, +3, +4]áµ€.</details></li>
        <li><details><summary>Balance elemental C/H/O del ejemplo anterior.</summary>C: 3=3; H: 8=8; O: 10=10.</details></li>
        <li><details><summary>Para serie-paralelo: Aâ†’B (râ‚), Aâ†’D (râ‚‚), Bâ†’C (râ‚ƒ): define S_C/A.</summary>S_C/A = (n_C formado)/(n_A consumido).</details></li>
        <li><details><summary>En un CSTR, F_A,in=1 mol/s, X_A=0,6: calcula F_A,out.</summary>0,4 mol/s.</details></li>
        <li><details><summary>Aire estequiomÃ©trico para CHâ‚„ (en mol por mol CHâ‚„).</summary>2 Oâ‚‚ â†’ aire â‰ˆ Oâ‚‚/0,21 â‰ˆ 9,52 mol aire/mol CHâ‚„.</details></li>
        <li><details><summary>Para reacciÃ³n reversible Aâ‡ŒB, escribe náµ¢ con Î¾ y Î¾_eq.</summary>n_A=n_Aâ°âˆ’Î¾; n_B=n_Bâ°+Î¾; en equilibrio Î¾=Î¾_eq.</details></li>
        <li><details><summary>De Î½, identifica reacciones independientes por rango.</summary>rank(Î½) = nÂº independiente; las demÃ¡s son combinaciÃ³n lineal.</details></li>
        <li><details><summary>Calcula X_A si n_Aâ°=5 y n_A=1,5.</summary>0,70.</details></li>
        <li><details><summary>Con B deseado y D indeseado, Y_B=0,4 y X_A=0,5: halla S_B/A.</summary>S=Y/X=0,8.</details></li>
        <li><details><summary>Gas real: si Z=0,95, corrige n de 22,4 L a 1 atm, 273 K.</summary>n=PV/(ZRT)=1Ã—22,4/(0,95Ã—0,082057Ã—273)=1/0,95â‰ˆ1,053 mol.</details></li>
        <li><details><summary>Curva titulaciÃ³n: pH en mitad de neutralizaciÃ³n de Ã¡cido acÃ©tico 0,10 M (pKâ‚=4,76).</summary>pHâ‰ˆpKâ‚=4,76.</details></li>
        <li><details><summary>Para mezcla de reacciones, define vector Î¾=[Î¾â‚, Î¾â‚‚].</summary>n = nâ° + Î½Â·Î¾.</details></li>
        <li><details><summary>Calcula moles de COâ‚‚ por 1 mol de etanol a COâ‚‚ + Hâ‚‚O.</summary>Câ‚‚Hâ‚…OH + 3 Oâ‚‚ â†’ 2 COâ‚‚ + 3 Hâ‚‚O â‡’ 2 mol COâ‚‚.</details></li>
        <li><details><summary>Define invariante de elemento H para combustiÃ³n de propano.</summary>n_H(total) = constante = 8 (en unidades de Î¾ y nâ°).</details></li>
      </ol></div>
    </section>

    <!-- ===== MÃSTER ===== -->
    <section id="sec-master" class="paper level">
      <h1>MÃ¡ster â€” No-estequiometrÃ­a, defectos, isÃ³topos y propagaciÃ³n de incertidumbre</h1>
      <p class="lead">Cuando <em>la proporciÃ³n de Ã¡tomos no es exacta</em> (sÃ³lidos no estequiomÃ©tricos), balances con defectos, cÃ¡lculos con isÃ³topos y cÃ³mo propagar errores.</p>
      <div class="toc">
        <a href="#m-noest">No-estequiometrÃ­a en sÃ³lidos</a>
        <a href="#m-defectos">Defectos (Schottky/Frenkel)</a>
        <a href="#m-isotopos">EstequiometrÃ­a isotÃ³pica</a>
        <a href="#m-incertid">Incertidumbre y errores</a>
        <a href="#m-ejercicios">Ejercicios</a>
      </div>

      <h2 id="m-noest">No-estequiometrÃ­a</h2>
      <ul>
        <li>Ã“xidos como Feâ‚â‚‹â‚“O: vacantes de Fe y estados de oxidaciÃ³n variables.</li>
      </ul>

      <h2 id="m-defectos">Defectos</h2>
      <ul>
        <li>Schottky (vacancias catiÃ³n/aniÃ³n), Frenkel (intersticial + vacancia); afectan densidad y conductividad.</li>
      </ul>

      <h2 id="m-isotopos">IsÃ³topos</h2>
      <ul>
        <li>CÃ¡lculo de composiciÃ³n isotÃ³pica y masas promedios; usos en trazadores.</li>
      </ul>

      <h2 id="m-incertid">Incertidumbre</h2>
      <ul>
        <li>PropagaciÃ³n: para <em>q = aÂ·b/c</em>, <em>(Ïƒ_q/q)Â² â‰ˆ (Ïƒ_a/a)Â² + (Ïƒ_b/b)Â² + (Ïƒ_c/c)Â²</em> (errores pequeÃ±os, independientes).</li>
      </ul>

      <h2 id="m-ejercicios">Ejercicios (12)</h2>
      <div class="examples"><ol>
        <li><details><summary>Da una fÃ³rmula no estequiomÃ©trica tÃ­pica de Ã³xido de hierro.</summary>Feâ‚€,â‚‰â‚…O (ejemplo).</details></li>
        <li><details><summary>Si 1% de sitios catiÃ³nicos son vacantes, Â¿cÃ³mo cambia la fÃ³rmula?</summary>Aproximar como Mâ‚€,â‚‰â‚‰X (segÃºn cargas).</details></li>
        <li><details><summary>Calcula masa media del Cl con 75,8% Â³âµCl y 24,2% Â³â·Cl.</summary>0,758Â·34,969 + 0,242Â·36,966 â‰ˆ 35,45 u.</details></li>
        <li><details><summary>Propaga error en n = m/M con m=1,000Â±0,002 g y M=58,44Â±0,01.</summary>Ïƒ_relâ‰ˆâˆš[(0,002/1)Â² + (0,01/58,44)Â²] â‰ˆ 0,2%.</details></li>
        <li><details><summary>IsÃ³topos de C en COâ‚‚: calcula masas exactas de picos (simplificado).</summary>Con Â¹Â²C y Â¹Â³C: picos en 44 y 45 u (aprox.).</details></li>
        <li><details><summary>Defectos que aumentan conductividad iÃ³nica en AgCl.</summary>Vacancias de Agâº (Schottky) o Agáµ¢âº (Frenkel).</details></li>
        <li><details><summary>RelaciÃ³n defectosâ€“densidad.</summary>MÃ¡s vacancias â†’ menor densidad.</details></li>
        <li><details><summary>ComposiciÃ³n atom % a partir de fÃ³rmula Feâ‚€,â‚‰â‚‡O.</summary>Fe: 49,2 at%, O: 50,8 at% (aprox.).</details></li>
        <li><details><summary>Calcula ppm de Naâº en agua: 2,30 mg/L.</summary>â‰ˆ 2,30 ppm (asumiendo Ïâ‰ˆ1).</details></li>
        <li><details><summary>CI de una media de 5 mediciones (media 0,200 mol, Ïƒ=0,004, n=5), 95% tâ‰ˆ2,78.</summary>Â± tÂ·Ïƒ/âˆšn â‰ˆ Â±2,78Â·0,004/2,236 â‰ˆ Â±0,005 mol.</details></li>
        <li><details><summary>Â¿CÃ³mo afecta Z a PV=nRT?</summary>Zâ‰ 1 corrige desviaciones (gas real).</details></li>
        <li><details><summary>Calcula % atÃ³mico de Â¹Â³C si abundancia es 1,11%.</summary>1,11 at%.</details></li>
      </ol></div>
    </section>

    <!-- ===== DOCTORADO ===== -->
    <section id="sec-phd" class="paper level">
      <h1>Doctorado â€” Redes, modos de flujo, null spaces y optimizaciÃ³n</h1>
      <p class="lead">EstequiometrÃ­a como Ã¡lgebra: <em>elementary flux modes</em>, anÃ¡lisis estructural de redes (quÃ­mica y bioquÃ­mica), y estimaciÃ³n/optimizaciÃ³n con restricciones estequiomÃ©tricas.</p>
      <div class="toc">
        <a href="#d-efm">Elementary Flux Modes (EFM)</a>
        <a href="#d-cb">Flux balance (FBA) y restricciones</a>
        <a href="#d-ident">Identificabilidad y balances parciales</a>
        <a href="#d-opt">OptimizaciÃ³n con estequiometrÃ­a</a>
        <a href="#d-retos">Retos</a>
      </div>

      <h2 id="d-efm">EFM</h2>
      <ul>
        <li>Vectores de flujo no descomponibles que satisfacen <em>Î½Â·v=0</em> y restricciones de irreversibilidad.</li>
      </ul>

      <h2 id="d-cb">FBA</h2>
      <ul>
        <li>Maximiza una funciÃ³n objetivo (crecimiento, producciÃ³n) con <em>Î½Â·v=0</em>, <em>l â‰¤ v â‰¤ u</em>.</li>
      </ul>

      <h2 id="d-ident">Identificabilidad</h2>
      <ul>
        <li>QuÃ© parÃ¡metros/producciones pueden estimarse sÃ³lo con balances estequiomÃ©tricos y medidas parciales.</li>
      </ul>

      <h2 id="d-opt">OptimizaciÃ³n</h2>
      <ul>
        <li>DiseÃ±o de mezclas/recetas mÃ­nimo coste con restricciones de composiciÃ³n y conversiÃ³n.</li>
      </ul>

      <h2 id="d-retos">Retos (10)</h2>
      <div class="examples"><ol>
        <li><details><summary>Para una red con Î½ conocida, calcula dim(null(Î½)).</summary>dim = nÂº reacciones âˆ’ rank(Î½).</details></li>
        <li><details><summary>Plantea LP para maximizar B con A limitado.</summary>max Y_B sujeto a Î½Â·v=0, 0â‰¤vâ‰¤v_max.</details></li>
        <li><details><summary>Enumera EFM simples en una red Aâ†’Bâ†’C y Aâ†’C.</summary>Dos modos: Aâ†’Bâ†’C y Aâ†’C.</details></li>
        <li><details><summary>Usa balances para estimar producciÃ³n de COâ‚‚ en una fermentaciÃ³n midiendo sustrato/biomasa.</summary>Resolver con ecuaciÃ³n elemental de C/H/O/N.</details></li>
        <li><details><summary>Define selectividad objetivo en red con coproductos.</summary>S_B/A como antes, con restricciones de v.</details></li>
        <li><details><summary>Escoge conjunto mÃ­nimo de reacciones para alcanzar C desde A.</summary>Un EFM.</details></li>
        <li><details><summary>Incorpora irreversibilidades en FBA.</summary>váµ¢ â‰¥ 0 para reacciones irreversibles.</details></li>
        <li><details><summary>Valora sensibilidad de soluciÃ³n de FBA a lÃ­mites de flujo.</summary>AnÃ¡lisis de rango Ã³ptimo.</details></li>
        <li><details><summary>Incluye balances de elemento N ademÃ¡s de C y H.</summary>AÃ±adir filas de elementos a Î½ para restricciones.</details></li>
        <li><details><summary>PropÃ³n mÃ©trica de â€œÃ¡tomos-economÃ­aâ€ con estequiometrÃ­a.</summary>% = masa deseada / masa total de reactivos.</details></li>
      </ol></div>
    </section>
  </main>

  <button class="topbtn" id="topbtn" aria-label="Subir">â†‘</button>

  <script>
    // --- Persistencia ---
    const root = document.documentElement;
    const ls = window.localStorage;

    function applySettings(){
      const theme = ls.getItem('esteq_theme');
      if(theme) root.setAttribute('data-theme', theme);
      const base = ls.getItem('esteq_base');
      if(base) root.style.setProperty('--base', base);
      const maxw = ls.getItem('esteq_maxw');
      if(maxw) root.style.setProperty('--maxw', maxw);
    }
    applySettings();

    // --- Barra de nivel ---
    const sections = {
      primaria: document.querySelector('#sec-primaria'),
      eso: document.querySelector('#sec-eso'),
      bach: document.querySelector('#sec-bach'),
      uni: document.querySelector('#sec-uni'),
      master: document.querySelector('#sec-master'),
      phd: document.querySelector('#sec-phd'),
    };
    document.querySelectorAll('#levelBar .pill').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        document.querySelectorAll('#levelBar .pill').forEach(b=>b.setAttribute('aria-selected','false'));
        btn.setAttribute('aria-selected','true');
        const lvl = btn.dataset.level;
        Object.values(sections).forEach(sec=>sec.removeAttribute('data-active'));
        sections[lvl].setAttribute('data-active','');
        window.scrollTo({top:0, behavior:'smooth'});
      });
    });

    // --- Controles de lectura ---
    document.querySelector('#fs-up').addEventListener('click', ()=>{
      const cur = parseFloat(getComputedStyle(root).getPropertyValue('--base'));
      const next = Math.min(cur+1, 24);
      root.style.setProperty('--base', next+'px'); ls.setItem('esteq_base', next+'px');
    });
    document.querySelector('#fs-down').addEventListener('click', ()=>{
      const cur = parseFloat(getComputedStyle(root).getPropertyValue('--base'));
      const next = Math.max(cur-1, 14);
      root.style.setProperty('--base', next+'px'); ls.setItem('esteq_base', next+'px');
    });
    document.querySelector('#width-up').addEventListener('click', ()=>{
      const cur = getComputedStyle(root).getPropertyValue('--maxw');
      const val = parseFloat(cur);
      const next = Math.min(val+6, 96);
      root.style.setProperty('--maxw', next+'ch'); ls.setItem('esteq_maxw', next+'ch');
    });
    document.querySelector('#width-down').addEventListener('click', ()=>{
      const cur = getComputedStyle(root).getPropertyValue('--maxw');
      const val = parseFloat(cur);
      const next = Math.max(val-6, 60);
      root.style.setProperty('--maxw', next+'ch'); ls.setItem('esteq_maxw', next+'ch');
    });

    const themeBtn = document.querySelector('#theme-toggle');
    themeBtn.addEventListener('click', ()=>{
      const current = root.getAttribute('data-theme') === 'dark' ? 'dark' : 'light';
      const next = current === 'dark' ? 'light' : 'dark';
      root.setAttribute('data-theme', next);
      ls.setItem('esteq_theme', next);
    });

    // --- Progreso y botÃ³n arriba ---
    const bar = document.querySelector('#progress');
    const topbtn = document.querySelector('#topbtn');
    function onScroll(){
      const h = document.documentElement;
      const scrolled = (h.scrollTop) / (h.scrollHeight - h.clientHeight);
      bar.style.width = (scrolled*100)+'%';
      topbtn.classList.toggle('show', h.scrollTop > 300);
    }
    window.addEventListener('scroll', onScroll);
    topbtn.addEventListener('click', ()=>window.scrollTo({top:0, behavior:'smooth'}));
    onScroll();
  </script>
</body>
</html>
