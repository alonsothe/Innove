<!DOCTYPE html>
<html lang="es">
<head><link rel="icon" type="image/png" href="innoveAI.png">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Estequiometr√≠a</title>
<meta name="color-scheme" content="light dark">
<style>
  :root{
    --bg:#f7f9fc; --paper:#ffffff; --ink:#111827; --muted:#48536b;
    --brand:#2563eb; --accent:#0ea5e9; --accent2:#22c55e;
    --border:#d9e1f2; --shadow:0 8px 28px rgba(16,24,40,.08);
    --radius:16px; --maxw:78ch; --base:18px; --lh:1.85;
  }
  :root[data-theme="dark"]{
    --bg:#0e1424; --paper:#101a34; --ink:#eaf2ff; --muted:#aab7d9;
    --brand:#60a5fa; --accent:#7dd3fc; --accent2:#34d399;
    --border:#203054; --shadow:0 10px 26px rgba(0,0,0,.35);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    font-size:var(--base); line-height:var(--lh); color:var(--ink);
    background:
      radial-gradient(1000px 700px at 80% -10%, #ddecff 0%, transparent 60%),
      radial-gradient(900px 600px at 10% 110%, #e2f2ff 0%, transparent 65%),
      var(--bg);
  }
  .progress{position:fixed; inset:0 0 auto 0; height:4px; width:0; z-index:70;
    background:linear-gradient(90deg,var(--accent),var(--accent2))}
  .topbar{position:sticky; top:0; z-index:60; backdrop-filter:blur(10px) saturate(140%);
    background:color-mix(in oklab, var(--paper) 86%, transparent); border-bottom:1px solid var(--border);
    box-shadow:var(--shadow)}
  .wrap{max-width:1200px; margin:0 auto; padding:10px 16px}
  .brand{display:flex; align-items:center; gap:12px; text-decoration:none; color:inherit; font-weight:900}
  .badge{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;background:linear-gradient(135deg,var(--brand),color-mix(in oklab,var(--brand) 45%,white 25%));color:#fff}
  .brand-title{font-size:clamp(20px,3.6vw,28px);margin:0}
  .reader{display:flex;align-items:center;gap:8px;flex-wrap:wrap;border:1px solid var(--border);border-radius:12px;padding:8px;background:color-mix(in oklab,var(--paper) 80%, transparent)}
  .btn{border:1px solid var(--border);background:var(--paper);color:inherit;padding:8px 12px;border-radius:12px;font-weight:800;cursor:pointer}
  .btn.small{padding:6px 10px;font-weight:700}
  .levels{display:flex;gap:8px;padding:8px 2px 10px;overflow:auto;scrollbar-width:thin}
  .pill{border:1px solid var(--border);background:color-mix(in oklab,var(--paper) 88%, transparent);color:inherit;border-radius:14px;padding:8px 12px;font-weight:800;white-space:nowrap;cursor:pointer}
  .pill[aria-selected="true"]{background:color-mix(in oklab,var(--brand) 22%, var(--paper));border-color:color-mix(in oklab,var(--brand) 60%, var(--border));color:#fff;box-shadow:0 10px 22px color-mix(in oklab,var(--brand) 20%, transparent)}
  main{max-width:1200px;margin:0 auto;padding:16px}
  .paper{max-width:var(--maxw);margin:10px auto 30px;padding:20px clamp(16px,3vw,26px);background:var(--paper);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow)}
  h1,h2,h3{color:color-mix(in oklab,var(--ink),var(--brand) 10%)}
  h1{font-size:clamp(28px,5vw,40px);line-height:1.2;margin:.4em 0 .2em}
  h2{font-size:clamp(22px,4vw,28px);line-height:1.28;margin:1.2em 0 .6em}
  h3{font-size:clamp(18px,3vw,22px);line-height:1.35;margin:1em 0 .4em}
  p{margin:.7em 0} ul,ol{margin:.6em 0 .8em 1.2em} li{margin:.25em 0}
  .lead{color:var(--muted)}
  .callout{background:color-mix(in oklab,var(--paper) 85%, var(--bg));border:1px solid var(--border);border-left:6px solid var(--accent);padding:12px 14px;border-radius:12px;margin:12px 0}
  .toc{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:8px;background:color-mix(in oklab,var(--paper) 70%, transparent);padding:12px;border:1px solid var(--border);border-radius:12px}
  .toc a{text-decoration:none;color:color-mix(in oklab,var(--brand) 80%, var(--ink))}
  section.level{display:none} section.level[data-active]{display:block}
  .topbtn{position:fixed;right:16px;bottom:20px;z-index:55;background:var(--brand);color:#fff;border:none;border-radius:999px;padding:10px 14px;font-weight:800;cursor:pointer;box-shadow:var(--shadow);display:none}
  .topbtn.show{display:block}
  .examples{background:color-mix(in oklab,var(--paper) 88%, var(--bg)); border:1px solid var(--border); border-radius:12px; padding:12px 14px; margin:12px 0}
  .examples h4{margin:.2em 0 .6em; font-size:1.05em}
  details{background:color-mix(in oklab,var(--paper) 94%, transparent); border:1px dashed var(--border); border-radius:10px; padding:8px 10px; margin:6px 0}
  summary{cursor:pointer; font-weight:800}
  code{background:color-mix(in oklab,var(--paper) 90%, transparent);border:1px solid var(--border);padding:2px 6px;border-radius:8px}
  table{border-collapse:collapse;width:100%;margin:.6em 0;border:1px solid var(--border)}
  th,td{border:1px solid var(--border);padding:8px 10px;text-align:left}
  th{background:color-mix(in oklab,var(--paper) 85%, var(--bg))}
  .grid-2{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px}
</style>
</head>
<body>
  <div class="progress" id="progress"></div>
  <div class="topbar">
    <div class="wrap" style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap">
      <a class="brand" href="#"><span class="badge">‚öñÔ∏è</span><span class="brand-title">Estequiometr√≠a ‚Äî por niveles</span></a>
      <div class="reader" role="group" aria-label="Controles de lectura">
        <button class="btn small" id="fs-down" title="Disminuir tama√±o de letra">A‚àí</button>
        <button class="btn small" id="fs-up" title="Aumentar tama√±o de letra">A+</button>
        <button class="btn small" id="width-down" title="Reducir ancho de columna">‚á§</button>
        <button class="btn small" id="width-up" title="Aumentar ancho de columna">‚á•</button>
        <button class="btn" id="theme-toggle" title="Alternar tema claro/oscuro">‚òÄÔ∏è/üåô</button>
      </div>
    </div>
    <div class="wrap">
      <nav class="levels" id="levelBar" role="tablist" aria-label="Nivel">
        <button class="pill" data-level="primaria" role="tab" aria-selected="true">Primaria</button>
        <button class="pill" data-level="eso" role="tab" aria-selected="false">ESO</button>
        <button class="pill" data-level="bach" role="tab" aria-selected="false">Bachillerato</button>
        <button class="pill" data-level="uni" role="tab" aria-selected="false">Universidad</button>
        <button class="pill" data-level="master" role="tab" aria-selected="false">M√°ster</button>
        <button class="pill" data-level="phd" role="tab" aria-selected="false">Doctorado</button>
      </nav>
    </div>
  </div>

  <main>
    <!-- ===== PRIMARIA ===== -->
    <section id="sec-primaria" class="paper level" data-active>
      <h1>Primaria ‚Äî ¬øQu√© es la estequiometr√≠a?</h1>
      <p class="lead">Es como una <strong>receta</strong> de cocina: dice cu√°ntas ‚Äúporciones‚Äù de cada sustancia se necesitan para reaccionar y cu√°nta ‚Äúcomida‚Äù (producto) sale.</p>
      <div class="toc">
        <a href="#p-idea">Idea b√°sica</a>
        <a href="#p-ejemplos">Ejemplos con ‚Äúrecetas‚Äù</a>
        <a href="#p-ejercicios">Ejercicios</a>
      </div>

      <h2 id="p-idea">Idea b√°sica</h2>
      <p>En 2 H‚ÇÇ + O‚ÇÇ ‚Üí 2 H‚ÇÇO, por <strong>cada</strong> 2 ‚Äúporciones‚Äù de hidr√≥geno y 1 de ox√≠geno salen 2 de agua.</p>

      <h2 id="p-ejemplos">Ejemplos</h2>
      <ul>
        <li>3 H‚ÇÇ + N‚ÇÇ ‚Üí 2 NH‚ÇÉ (amon√≠aco).</li>
        <li>2 Na + Cl‚ÇÇ ‚Üí 2 NaCl (sal).</li>
      </ul>

      <h2 id="p-ejercicios">Ejercicios (5)</h2>
      <div class="examples"><ol>
        <li><details><summary>¬øCu√°ntas ‚Äúporciones‚Äù de H‚ÇÇ se necesitan para 1 de O‚ÇÇ?</summary>2.</details></li>
        <li><details><summary>En 2 Na + Cl‚ÇÇ ‚Üí 2 NaCl, ¬øcu√°ntas de sal salen si entran 4 Na y 2 Cl‚ÇÇ?</summary>4 NaCl.</details></li>
        <li><details><summary>Completa: __ H‚ÇÇ + __ O‚ÇÇ ‚Üí __ H‚ÇÇO.</summary>2, 1, 2.</details></li>
        <li><details><summary>¬øQu√© significa el n√∫mero delante de la f√≥rmula?</summary>Cu√°ntas ‚Äúunidades‚Äù reaccionan.</details></li>
        <li><details><summary>Si doblas los reactivos, ¬øqu√© pasa con los productos?</summary>Se doblan (si todo reacciona).</details></li>
      </ol></div>
    </section>

    <!-- ===== ESO ===== -->
    <section id="sec-eso" class="paper level">
      <h1>ESO ‚Äî Mol, masa molar, ecuaciones y proporciones</h1>
      <p class="lead">Aprende a pasar de gramos a moles, ajustar ecuaciones y usar razones estequiom√©tricas.</p>
      <div class="toc">
        <a href="#e-mol">Mol y masa molar</a>
        <a href="#e-ajuste">Ajuste de ecuaciones</a>
        <a href="#e-propor">Proporciones y factores</a>
        <a href="#e-ejercicios">Ejercicios</a>
      </div>

      <h2 id="e-mol">Mol y masa molar</h2>
      <ul>
        <li><strong>1 mol</strong> = 6,022√ó10¬≤¬≥ part√≠culas.</li>
        <li><strong>Masa molar (M)</strong>: g/mol; H‚ÇÇO ‚âà 18,02 g/mol.</li>
        <li>Conversi√≥n: <em>n = m/M</em>.</li>
      </ul>

      <h2 id="e-ajuste">Ajuste de ecuaciones</h2>
      <p>Conserva √°tomos: ajusta coeficientes (n√∫meros delante) sin tocar sub√≠ndices.</p>

      <h2 id="e-propor">Proporciones</h2>
      <p>Usa los coeficientes como <em>proporciones molares</em> para convertir reactivos‚Üîproductos.</p>

      <h2 id="e-ejercicios">Ejercicios (12)</h2>
      <div class="examples"><ol>
        <li><details><summary>Convierte 36 g de H‚ÇÇO a moles.</summary>36/18,02 ‚âà 2,0 mol.</details></li>
        <li><details><summary>Ajusta: C‚ÇÉH‚Çà + O‚ÇÇ ‚Üí CO‚ÇÇ + H‚ÇÇO.</summary>1 : 5 ‚Üí 3 : 4.</details></li>
        <li><details><summary>¬øCu√°ntos moles de CO‚ÇÇ produce 1 mol de C‚ÇÉH‚Çà?</summary>3 mol.</details></li>
        <li><details><summary>De 2 mol de H‚ÇÇ y 1 mol de O‚ÇÇ, ¬øcu√°ntos mol de H‚ÇÇO?</summary>2 mol.</details></li>
        <li><details><summary>M de NaCl.</summary>‚âà 58,44 g/mol.</details></li>
        <li><details><summary>Convierte 11,6 g de NaCl a mol.</summary>11,6/58,44 ‚âà 0,198 mol.</details></li>
        <li><details><summary>¬øCu√°ntas mol√©culas hay en 0,5 mol?</summary>0,5√ó6,022e23 ‚âà 3,01√ó10¬≤¬≥.</details></li>
        <li><details><summary>Ajusta: Fe + O‚ÇÇ ‚Üí Fe‚ÇÇO‚ÇÉ.</summary>4 Fe + 3 O‚ÇÇ ‚Üí 2 Fe‚ÇÇO‚ÇÉ.</details></li>
        <li><details><summary>Proporci√≥n molar N‚ÇÇ:H‚ÇÇ en s√≠ntesis de NH‚ÇÉ.</summary>1:3.</details></li>
        <li><details><summary>Calcula moles en 44 g de CO‚ÇÇ.</summary>44/44,01 ‚âà 1,0 mol.</details></li>
        <li><details><summary>Si tengo 2 mol de O‚ÇÇ, ¬øcu√°nto H‚ÇÇ necesito para hacer agua?</summary>4 mol H‚ÇÇ.</details></li>
        <li><details><summary>¬øQu√© significa ‚Äúconservar masa‚Äù en una reacci√≥n?</summary>Que el n√∫mero de √°tomos de cada elemento es el mismo antes y despu√©s.</details></li>
      </ol></div>
    </section>

    <!-- ===== BACHILLERATO ===== -->
    <section id="sec-bach" class="paper level">
      <h1>Bachillerato ‚Äî Reactivo limitante, rendimiento, disoluciones y gases</h1>
      <p class="lead">Domina el <strong>reactivo limitante</strong>, el <strong>porcentaje de rendimiento</strong>, la estequiometr√≠a en disoluci√≥n (molaridad, diluciones, titulaciones) y <em>gases ideales</em>.</p>
      <div class="toc">
        <a href="#b-limitante">Reactivo limitante y exceso</a>
        <a href="#b-rend">Rendimiento te√≥rico/%</a>
        <a href="#b-disol">Disoluciones (M, m, %m/m, fracci√≥n molar)</a>
        <a href="#b-titul">Titulaciones √°cido‚Äìbase y redox</a>
        <a href="#b-gases">Gases ideales (PV=nRT)</a>
        <a href="#b-formulas">F√≥rmula emp√≠rica/molecular</a>
        <a href="#b-ejercicios">Ejercicios</a>
      </div>

      <h2 id="b-limitante">Reactivo limitante</h2>
      <ol>
        <li>Convierte todos los reactivos a moles.</li>
        <li>Divide por su coeficiente estequiom√©trico ‚Üí compara.</li>
        <li>El menor ‚Äúcociente‚Äù limita; usa ese para calcular productos.</li>
      </ol>

      <h2 id="b-rend">Rendimiento</h2>
      <p><strong>Rend. %</strong> = (rendimiento real / te√≥rico)√ó100. El te√≥rico sale del limitante.</p>

      <h2 id="b-disol">Disoluciones</h2>
      <ul>
        <li><strong>M</strong>=mol/L; <strong>m</strong>=mol/kg solvente; <strong>%m/m</strong>, <strong>%m/V</strong>, <strong>x_i</strong> (fracci√≥n molar).</li>
        <li>Diluci√≥n: <em>M‚ÇÅV‚ÇÅ = M‚ÇÇV‚ÇÇ</em> (a T constante y aditividad de vol√∫menes).</li>
      </ul>

      <h2 id="b-titul">Titulaciones</h2>
      <ul>
        <li>√Åcido monopr√≥tico vs base monopr√≥tica: <em>M‚ÇêV‚Çê = M_bV_b</em> en el <em>equivalente</em>.</li>
        <li>Redox: usa <em>n</em> electrones por mol (equivalentes).</li>
      </ul>

      <h2 id="b-gases">Gases</h2>
      <ul>
        <li><em>PV = nRT</em>; a <em>CNPT</em> (0 ¬∞C, 1 atm) 1 mol ‚âà 22,414 L (‚âà 22,4 L).</li>
      </ul>

      <h2 id="b-formulas">F√≥rmula emp√≠rica y molecular</h2>
      <ul>
        <li>Con % en masa ‚Üí m (100 g) ‚Üí n ‚Üí divide por el menor ‚Üí m√∫ltiplos enteros.</li>
        <li>Molecular: emp√≠rica√ó<em>k</em> con <em>M</em> experimental.</li>
      </ul>

      <h2 id="b-ejercicios">Ejercicios (18)</h2>
      <div class="examples"><ol>
        <li><details><summary>Limitante: 5,0 g de H‚ÇÇ y 20,0 g de O‚ÇÇ ‚Üí H‚ÇÇO.</summary>n(H‚ÇÇ)=2,5; n(O‚ÇÇ)=0,625 mol; cocientes: 2,5/2=1,25 vs 0,625/1=0,625 ‚Üí limita O‚ÇÇ; n(H‚ÇÇO)=2√ó0,625=1,25 mol.</details></li>
        <li><details><summary>Rendimiento: si se obtienen 20,0 g de H‚ÇÇO del problema anterior.</summary>m_teo=1,25√ó18,02=22,5 g; Rend%=20,0/22,5‚âà88,9%.</details></li>
        <li><details><summary>M‚ÇÅV‚ÇÅ=M‚ÇÇV‚ÇÇ: ¬øqu√© V de HCl 0,100 M neutraliza 25,0 mL de NaOH 0,200 M?</summary>V= (0,200√ó25,0)/0,100=50,0 mL.</details></li>
        <li><details><summary>pH de HCl 3,2√ó10‚Åª¬≥ M.</summary>pH‚âà2,49.</details></li>
        <li><details><summary>Volumen de CO‚ÇÇ a CNPT producido por 10,0 g de CaCO‚ÇÉ ‚Üí CaO+CO‚ÇÇ.</summary>n=10/100,09=0,100 mol ‚Üí V‚âà2,24 L.</details></li>
        <li><details><summary>% en masa: 40,0% C, 6,7% H, 53,3% O ‚Üí emp√≠rica.</summary>Asume 100 g: n(C)=3,33; n(H)=6,7; n(O)=3,33 ‚Üí divide/3,33 ‚Üí CH‚ÇÇO.</details></li>
        <li><details><summary>Si M=180 g/mol para el anterior, ¬ømolecular?</summary>(CH‚ÇÇO)‚ÇÜ ‚Üí C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ.</details></li>
        <li><details><summary>Redox: equivalentes en 25,0 mL de KMnO‚ÇÑ 0,0200 M (en √°cido, n=5).</summary>eq = M¬∑V¬∑n = 0,0200√ó0,0250√ó5=0,00250 mol e‚Åª.</details></li>
        <li><details><summary>Combusti√≥n: 5,00 g de propano ‚Üí CO‚ÇÇ (moles).</summary>n=5/44,10=0,113; moles CO‚ÇÇ=3√ó0,113=0,339 mol.</details></li>
        <li><details><summary>Diluci√≥n: de 2,00 M a 0,500 M, preparar 250 mL.</summary>V_stock=M‚ÇÇV‚ÇÇ/M‚ÇÅ=0,500√ó0,250/2,00=0,0625 L.</details></li>
        <li><details><summary>Fracci√≥n molar de NaCl en 1,00 mol NaCl + 9,00 mol H‚ÇÇO.</summary>x_NaCl=0,100.</details></li>
        <li><details><summary>Molalidad de 10,0 g NaCl en 90,0 g H‚ÇÇO.</summary>n=0,171; kg solvente=0,090 ‚Üí m‚âà1,90 m.</details></li>
        <li><details><summary>Gases: moles en 5,00 L de N‚ÇÇ a 27 ¬∞C y 1,00 atm.</summary>n=PV/RT=1√ó5/(0,082057√ó300)=0,203 mol.</details></li>
        <li><details><summary>Balancea por ion-electr√≥n: Cr‚ÇÇO‚Çá¬≤‚Åª + Fe¬≤‚Å∫ ‚Üí Cr¬≥‚Å∫ + Fe¬≥‚Å∫ (√°cido).</summary>Cr‚ÇÇO‚Çá¬≤‚Åª + 6 Fe¬≤‚Å∫ + 14 H‚Å∫ ‚Üí 2 Cr¬≥‚Å∫ + 6 Fe¬≥‚Å∫ + 7 H‚ÇÇO.</details></li>
        <li><details><summary>Rend. % cuando se obtienen 8,0 g y el te√≥rico son 10,0 g.</summary>80%.</details></li>
        <li><details><summary>Emp√≠rica de 52,2% C, 13,0% H, 34,8% O.</summary>Asume 100 g: n‚âà4,35;12,9;2,17 ‚Üí dividir por 2,17 ‚Üí C‚ÇÇH‚ÇÜO.</details></li>
        <li><details><summary>¬øCu√°ntos mL de 0,100 M Na‚ÇÇS‚ÇÇO‚ÇÉ equivalen a 0,00200 mol I‚ÇÇ? (n=2)</summary>eq(I‚ÇÇ)=0,00400; V=eq/(M¬∑n)=0,00400/(0,100√ó2)=0,200 L=200 mL.</details></li>
        <li><details><summary>Identifica el limitante: 10 g Al + 10 g O‚ÇÇ ‚Üí Al‚ÇÇO‚ÇÉ.</summary>n_Al=0,370; n_O‚ÇÇ=0,313; cocientes: 0,370/4=0,0925 vs 0,313/3=0,104 ‚Üí limita Al.</details></li>
      </ol></div>
    </section>

    <!-- ===== UNIVERSIDAD ===== -->
    <section id="sec-uni" class="paper level">
      <h1>Universidad ‚Äî Extensi√≥n de reacci√≥n, matrices y balances</h1>
      <p class="lead">Formaliza la estequiometr√≠a con <strong>extensi√≥n de reacci√≥n</strong> (Œæ), <strong>matriz estequiom√©trica</strong> (ŒΩ), balances de elementos, conversi√≥n, rendimiento y selectividad. Incluye gases reales y titulaci√≥n con curvas.</p>
      <div class="toc">
        <a href="#u-xi">Extensi√≥n de reacci√≥n (Œæ)</a>
        <a href="#u-matriz">Matriz ŒΩ y balances</a>
        <a href="#u-conv">Conversi√≥n, selectividad y rendimiento</a>
        <a href="#u-reactores">Estequiometr√≠a en reactores</a>
        <a href="#u-gases">Gases reales y fugacidad (idea)</a>
        <a href="#u-titul">Curvas de titulaci√≥n</a>
        <a href="#u-ejercicios">Ejercicios</a>
      </div>

      <h2 id="u-xi">Extensi√≥n de reacci√≥n</h2>
      <ul>
        <li>Para reacci√≥n <em>‚àë·µ¢ ŒΩ·µ¢ A·µ¢ = 0</em>, los moles cambian como <em>n·µ¢ = n·µ¢‚Å∞ + ŒΩ·µ¢ Œæ</em>.</li>
        <li>En mezclas con varias reacciones, vector <em>Œæ</em> y matriz <em>ŒΩ</em>.</li>
      </ul>

      <h2 id="u-matriz">Matriz estequiom√©trica ŒΩ</h2>
      <ul>
        <li>Filas = especies, columnas = reacciones; <em>rank(ŒΩ)</em> = n¬∫ independiente de reacciones.</li>
        <li>El espacio nulo de <em>ŒΩ·µÄ</em> define <em>invariantes</em> (balances elementales).</li>
      </ul>

      <h2 id="u-conv">Conversi√≥n/Selectividad/Rendimiento</h2>
      <ul>
        <li><strong>X_A</strong> = (n_A‚Å∞ ‚àí n_A)/n_A‚Å∞.</li>
        <li><strong>S_B/A</strong> = (moles B formados)/(moles A consumidos en ruta a B).</li>
        <li><strong>Y_B</strong> = (moles B)/(moles A alimentados).</li>
      </ul>

      <h2 id="u-reactores">Reactores (visi√≥n estequiom√©trica)</h2>
      <ul>
        <li><strong>Batch</strong>: variaci√≥n con el tiempo v√≠a Œæ(t).</li>
        <li><strong>CSTR</strong>: estado estacionario, balances con caudales <em>F·µ¢</em> y consumo por reacci√≥n.</li>
        <li><strong>PFR</strong>: variaci√≥n espacial (z) con Œæ(z).</li>
      </ul>

      <h2 id="u-gases">Gases reales (idea)</h2>
      <ul>
        <li>Usa factores de compresibilidad <em>Z</em> o fugacidades para mejoras sobre PV=nRT.</li>
      </ul>

      <h2 id="u-titul">Curvas de titulaci√≥n</h2>
      <ul>
        <li>√Åcido d√©bil‚Äìbase fuerte: Henderson‚ÄìHasselbalch antes del equival. pH en equivalencia ‚âà ¬Ω(pK_w + pK_a ‚àí log C) (aprox.).</li>
      </ul>

      <h2 id="u-ejercicios">Ejercicios (16)</h2>
      <div class="examples"><ol>
        <li><details><summary>Para A ‚Üí B con ŒΩ_A=‚àí1, ŒΩ_B=+1 y n_A‚Å∞=1,0, n_B‚Å∞=0, expresa n·µ¢ en funci√≥n de Œæ.</summary>n_A=1‚àíŒæ; n_B=Œæ.</details></li>
        <li><details><summary>Con A + B ‚Üí C y n_A‚Å∞=2, n_B‚Å∞=1, ¬øŒæ_max?</summary>Por B: Œæ_max=1.</details></li>
        <li><details><summary>Construye ŒΩ para: C‚ÇÉH‚Çà + 5 O‚ÇÇ ‚Üí 3 CO‚ÇÇ + 4 H‚ÇÇO.</summary>ŒΩ=[‚àí1, ‚àí5, +3, +4]·µÄ.</details></li>
        <li><details><summary>Balance elemental C/H/O del ejemplo anterior.</summary>C: 3=3; H: 8=8; O: 10=10.</details></li>
        <li><details><summary>Para serie-paralelo: A‚ÜíB (r‚ÇÅ), A‚ÜíD (r‚ÇÇ), B‚ÜíC (r‚ÇÉ): define S_C/A.</summary>S_C/A = (n_C formado)/(n_A consumido).</details></li>
        <li><details><summary>En un CSTR, F_A,in=1 mol/s, X_A=0,6: calcula F_A,out.</summary>0,4 mol/s.</details></li>
        <li><details><summary>Aire estequiom√©trico para CH‚ÇÑ (en mol por mol CH‚ÇÑ).</summary>2 O‚ÇÇ ‚Üí aire ‚âà O‚ÇÇ/0,21 ‚âà 9,52 mol aire/mol CH‚ÇÑ.</details></li>
        <li><details><summary>Para reacci√≥n reversible A‚áåB, escribe n·µ¢ con Œæ y Œæ_eq.</summary>n_A=n_A‚Å∞‚àíŒæ; n_B=n_B‚Å∞+Œæ; en equilibrio Œæ=Œæ_eq.</details></li>
        <li><details><summary>De ŒΩ, identifica reacciones independientes por rango.</summary>rank(ŒΩ) = n¬∫ independiente; las dem√°s son combinaci√≥n lineal.</details></li>
        <li><details><summary>Calcula X_A si n_A‚Å∞=5 y n_A=1,5.</summary>0,70.</details></li>
        <li><details><summary>Con B deseado y D indeseado, Y_B=0,4 y X_A=0,5: halla S_B/A.</summary>S=Y/X=0,8.</details></li>
        <li><details><summary>Gas real: si Z=0,95, corrige n de 22,4 L a 1 atm, 273 K.</summary>n=PV/(ZRT)=1√ó22,4/(0,95√ó0,082057√ó273)=1/0,95‚âà1,053 mol.</details></li>
        <li><details><summary>Curva titulaci√≥n: pH en mitad de neutralizaci√≥n de √°cido ac√©tico 0,10 M (pK‚Çê=4,76).</summary>pH‚âàpK‚Çê=4,76.</details></li>
        <li><details><summary>Para mezcla de reacciones, define vector Œæ=[Œæ‚ÇÅ, Œæ‚ÇÇ].</summary>n = n‚Å∞ + ŒΩ¬∑Œæ.</details></li>
        <li><details><summary>Calcula moles de CO‚ÇÇ por 1 mol de etanol a CO‚ÇÇ + H‚ÇÇO.</summary>C‚ÇÇH‚ÇÖOH + 3 O‚ÇÇ ‚Üí 2 CO‚ÇÇ + 3 H‚ÇÇO ‚áí 2 mol CO‚ÇÇ.</details></li>
        <li><details><summary>Define invariante de elemento H para combusti√≥n de propano.</summary>n_H(total) = constante = 8 (en unidades de Œæ y n‚Å∞).</details></li>
      </ol></div>
    </section>

    <!-- ===== M√ÅSTER ===== -->
    <section id="sec-master" class="paper level">
      <h1>M√°ster ‚Äî No-estequiometr√≠a, defectos, is√≥topos y propagaci√≥n de incertidumbre</h1>
      <p class="lead">Cuando <em>la proporci√≥n de √°tomos no es exacta</em> (s√≥lidos no estequiom√©tricos), balances con defectos, c√°lculos con is√≥topos y c√≥mo propagar errores.</p>
      <div class="toc">
        <a href="#m-noest">No-estequiometr√≠a en s√≥lidos</a>
        <a href="#m-defectos">Defectos (Schottky/Frenkel)</a>
        <a href="#m-isotopos">Estequiometr√≠a isot√≥pica</a>
        <a href="#m-incertid">Incertidumbre y errores</a>
        <a href="#m-ejercicios">Ejercicios</a>
      </div>

      <h2 id="m-noest">No-estequiometr√≠a</h2>
      <ul>
        <li>√ìxidos como Fe‚ÇÅ‚Çã‚ÇìO: vacantes de Fe y estados de oxidaci√≥n variables.</li>
      </ul>

      <h2 id="m-defectos">Defectos</h2>
      <ul>
        <li>Schottky (vacancias cati√≥n/ani√≥n), Frenkel (intersticial + vacancia); afectan densidad y conductividad.</li>
      </ul>

      <h2 id="m-isotopos">Is√≥topos</h2>
      <ul>
        <li>C√°lculo de composici√≥n isot√≥pica y masas promedios; usos en trazadores.</li>
      </ul>

      <h2 id="m-incertid">Incertidumbre</h2>
      <ul>
        <li>Propagaci√≥n: para <em>q = a¬∑b/c</em>, <em>(œÉ_q/q)¬≤ ‚âà (œÉ_a/a)¬≤ + (œÉ_b/b)¬≤ + (œÉ_c/c)¬≤</em> (errores peque√±os, independientes).</li>
      </ul>

      <h2 id="m-ejercicios">Ejercicios (12)</h2>
      <div class="examples"><ol>
        <li><details><summary>Da una f√≥rmula no estequiom√©trica t√≠pica de √≥xido de hierro.</summary>Fe‚ÇÄ,‚Çâ‚ÇÖO (ejemplo).</details></li>
        <li><details><summary>Si 1% de sitios cati√≥nicos son vacantes, ¬øc√≥mo cambia la f√≥rmula?</summary>Aproximar como M‚ÇÄ,‚Çâ‚ÇâX (seg√∫n cargas).</details></li>
        <li><details><summary>Calcula masa media del Cl con 75,8% ¬≥‚ÅµCl y 24,2% ¬≥‚Å∑Cl.</summary>0,758¬∑34,969 + 0,242¬∑36,966 ‚âà 35,45 u.</details></li>
        <li><details><summary>Propaga error en n = m/M con m=1,000¬±0,002 g y M=58,44¬±0,01.</summary>œÉ_rel‚âà‚àö[(0,002/1)¬≤ + (0,01/58,44)¬≤] ‚âà 0,2%.</details></li>
        <li><details><summary>Is√≥topos de C en CO‚ÇÇ: calcula masas exactas de picos (simplificado).</summary>Con ¬π¬≤C y ¬π¬≥C: picos en 44 y 45 u (aprox.).</details></li>
        <li><details><summary>Defectos que aumentan conductividad i√≥nica en AgCl.</summary>Vacancias de Ag‚Å∫ (Schottky) o Ag·µ¢‚Å∫ (Frenkel).</details></li>
        <li><details><summary>Relaci√≥n defectos‚Äìdensidad.</summary>M√°s vacancias ‚Üí menor densidad.</details></li>
        <li><details><summary>Composici√≥n atom % a partir de f√≥rmula Fe‚ÇÄ,‚Çâ‚ÇáO.</summary>Fe: 49,2 at%, O: 50,8 at% (aprox.).</details></li>
        <li><details><summary>Calcula ppm de Na‚Å∫ en agua: 2,30 mg/L.</summary>‚âà 2,30 ppm (asumiendo œÅ‚âà1).</details></li>
        <li><details><summary>CI de una media de 5 mediciones (media 0,200 mol, œÉ=0,004, n=5), 95% t‚âà2,78.</summary>¬± t¬∑œÉ/‚àön ‚âà ¬±2,78¬∑0,004/2,236 ‚âà ¬±0,005 mol.</details></li>
        <li><details><summary>¬øC√≥mo afecta Z a PV=nRT?</summary>Z‚â†1 corrige desviaciones (gas real).</details></li>
        <li><details><summary>Calcula % at√≥mico de ¬π¬≥C si abundancia es 1,11%.</summary>1,11 at%.</details></li>
      </ol></div>
    </section>

    <!-- ===== DOCTORADO ===== -->
    <section id="sec-phd" class="paper level">
      <h1>Doctorado ‚Äî Redes, modos de flujo, null spaces y optimizaci√≥n</h1>
      <p class="lead">Estequiometr√≠a como √°lgebra: <em>elementary flux modes</em>, an√°lisis estructural de redes (qu√≠mica y bioqu√≠mica), y estimaci√≥n/optimizaci√≥n con restricciones estequiom√©tricas.</p>
      <div class="toc">
        <a href="#d-efm">Elementary Flux Modes (EFM)</a>
        <a href="#d-cb">Flux balance (FBA) y restricciones</a>
        <a href="#d-ident">Identificabilidad y balances parciales</a>
        <a href="#d-opt">Optimizaci√≥n con estequiometr√≠a</a>
        <a href="#d-retos">Retos</a>
      </div>

      <h2 id="d-efm">EFM</h2>
      <ul>
        <li>Vectores de flujo no descomponibles que satisfacen <em>ŒΩ¬∑v=0</em> y restricciones de irreversibilidad.</li>
      </ul>

      <h2 id="d-cb">FBA</h2>
      <ul>
        <li>Maximiza una funci√≥n objetivo (crecimiento, producci√≥n) con <em>ŒΩ¬∑v=0</em>, <em>l ‚â§ v ‚â§ u</em>.</li>
      </ul>

      <h2 id="d-ident">Identificabilidad</h2>
      <ul>
        <li>Qu√© par√°metros/producciones pueden estimarse s√≥lo con balances estequiom√©tricos y medidas parciales.</li>
      </ul>

      <h2 id="d-opt">Optimizaci√≥n</h2>
      <ul>
        <li>Dise√±o de mezclas/recetas m√≠nimo coste con restricciones de composici√≥n y conversi√≥n.</li>
      </ul>

      <h2 id="d-retos">Retos (10)</h2>
      <div class="examples"><ol>
        <li><details><summary>Para una red con ŒΩ conocida, calcula dim(null(ŒΩ)).</summary>dim = n¬∫ reacciones ‚àí rank(ŒΩ).</details></li>
        <li><details><summary>Plantea LP para maximizar B con A limitado.</summary>max Y_B sujeto a ŒΩ¬∑v=0, 0‚â§v‚â§v_max.</details></li>
        <li><details><summary>Enumera EFM simples en una red A‚ÜíB‚ÜíC y A‚ÜíC.</summary>Dos modos: A‚ÜíB‚ÜíC y A‚ÜíC.</details></li>
        <li><details><summary>Usa balances para estimar producci√≥n de CO‚ÇÇ en una fermentaci√≥n midiendo sustrato/biomasa.</summary>Resolver con ecuaci√≥n elemental de C/H/O/N.</details></li>
        <li><details><summary>Define selectividad objetivo en red con coproductos.</summary>S_B/A como antes, con restricciones de v.</details></li>
        <li><details><summary>Escoge conjunto m√≠nimo de reacciones para alcanzar C desde A.</summary>Un EFM.</details></li>
        <li><details><summary>Incorpora irreversibilidades en FBA.</summary>v·µ¢ ‚â• 0 para reacciones irreversibles.</details></li>
        <li><details><summary>Valora sensibilidad de soluci√≥n de FBA a l√≠mites de flujo.</summary>An√°lisis de rango √≥ptimo.</details></li>
        <li><details><summary>Incluye balances de elemento N adem√°s de C y H.</summary>A√±adir filas de elementos a ŒΩ para restricciones.</details></li>
        <li><details><summary>Prop√≥n m√©trica de ‚Äú√°tomos-econom√≠a‚Äù con estequiometr√≠a.</summary>% = masa deseada / masa total de reactivos.</details></li>
      </ol></div>
    </section>
  </main>

  <button class="topbtn" id="topbtn" aria-label="Subir">‚Üë</button>

  <script>
    // --- Persistencia ---
    const root = document.documentElement;
    const ls = window.localStorage;

    function applySettings(){
      const theme = ls.getItem('esteq_theme');
      if(theme) root.setAttribute('data-theme', theme);
      const base = ls.getItem('esteq_base');
      if(base) root.style.setProperty('--base', base);
      const maxw = ls.getItem('esteq_maxw');
      if(maxw) root.style.setProperty('--maxw', maxw);
    }
    applySettings();

    // --- Barra de nivel ---
    const sections = {
      primaria: document.querySelector('#sec-primaria'),
      eso: document.querySelector('#sec-eso'),
      bach: document.querySelector('#sec-bach'),
      uni: document.querySelector('#sec-uni'),
      master: document.querySelector('#sec-master'),
      phd: document.querySelector('#sec-phd'),
    };
    document.querySelectorAll('#levelBar .pill').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        document.querySelectorAll('#levelBar .pill').forEach(b=>b.setAttribute('aria-selected','false'));
        btn.setAttribute('aria-selected','true');
        const lvl = btn.dataset.level;
        Object.values(sections).forEach(sec=>sec.removeAttribute('data-active'));
        sections[lvl].setAttribute('data-active','');
        window.scrollTo({top:0, behavior:'smooth'});
      });
    });

    // --- Controles de lectura ---
    document.querySelector('#fs-up').addEventListener('click', ()=>{
      const cur = parseFloat(getComputedStyle(root).getPropertyValue('--base'));
      const next = Math.min(cur+1, 24);
      root.style.setProperty('--base', next+'px'); ls.setItem('esteq_base', next+'px');
    });
    document.querySelector('#fs-down').addEventListener('click', ()=>{
      const cur = parseFloat(getComputedStyle(root).getPropertyValue('--base'));
      const next = Math.max(cur-1, 14);
      root.style.setProperty('--base', next+'px'); ls.setItem('esteq_base', next+'px');
    });
    document.querySelector('#width-up').addEventListener('click', ()=>{
      const cur = getComputedStyle(root).getPropertyValue('--maxw');
      const val = parseFloat(cur);
      const next = Math.min(val+6, 96);
      root.style.setProperty('--maxw', next+'ch'); ls.setItem('esteq_maxw', next+'ch');
    });
    document.querySelector('#width-down').addEventListener('click', ()=>{
      const cur = getComputedStyle(root).getPropertyValue('--maxw');
      const val = parseFloat(cur);
      const next = Math.max(val-6, 60);
      root.style.setProperty('--maxw', next+'ch'); ls.setItem('esteq_maxw', next+'ch');
    });

    const themeBtn = document.querySelector('#theme-toggle');
    themeBtn.addEventListener('click', ()=>{
      const current = root.getAttribute('data-theme') === 'dark' ? 'dark' : 'light';
      const next = current === 'dark' ? 'light' : 'dark';
      root.setAttribute('data-theme', next);
      ls.setItem('esteq_theme', next);
    });

    // --- Progreso y bot√≥n arriba ---
    const bar = document.querySelector('#progress');
    const topbtn = document.querySelector('#topbtn');
    function onScroll(){
      const h = document.documentElement;
      const scrolled = (h.scrollTop) / (h.scrollHeight - h.clientHeight);
      bar.style.width = (scrolled*100)+'%';
      topbtn.classList.toggle('show', h.scrollTop > 300);
    }
    window.addEventListener('scroll', onScroll);
    topbtn.addEventListener('click', ()=>window.scrollTo({top:0, behavior:'smooth'}));
    onScroll();
  </script>
</body>
</html>
