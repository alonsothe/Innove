<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Matem√°ticas de Ingenier√≠a ‚Äî Teor√≠a clara + 144 ejercicios</title>
<meta name="color-scheme" content="light dark">
<!-- MathJax for LaTeX rendering -->
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<style>
  :root{
    --bg:#f7f9fc; --paper:#ffffff; --ink:#121826; --muted:#48536b;
    --brand:#2563eb; --accent:#0ea5e9; --accent2:#22c55e;
    --border:#d9e1f2; --shadow:0 8px 28px rgba(16,24,40,.08);
    --radius:16px; --maxw:74ch; --base:18px; --lh:1.85;
  }
  @media (prefers-color-scheme: dark){
    :root{
      --bg:#0b1220; --paper:#0e1628; --ink:#e6ecff; --muted:#aab7d9;
      --brand:#60a5fa; --accent:#7dd3fc; --accent2:#34d399; --border:#203054;
      --shadow:0 10px 26px rgba(0,0,0,.35);
    }
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    font-size:var(--base); line-height:var(--lh); color:var(--ink);
    background:radial-gradient(1000px 700px at 80% -10%, #ddecff 0%, transparent 60%),
               radial-gradient(900px 600px at 10% 110%, #e2f2ff 0%, transparent 65%), var(--bg);
  }
  .progress{position:fixed; inset:0 0 auto 0; height:4px; width:0; z-index:70;
    background:linear-gradient(90deg,var(--accent),var(--accent2))}
  .topbar{position:sticky; top:0; z-index:60; backdrop-filter:blur(10px) saturate(140%);
    background:color-mix(in oklab, var(--paper) 86%, transparent); border-bottom:1px solid var(--border); box-shadow:var(--shadow)}
  .wrap{max-width:1200px; margin:0 auto; padding:10px 16px}
  .brand{display:flex; align-items:center; gap:12px; text-decoration:none; color:inherit; font-weight:900}
  .badge{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;
    background:linear-gradient(135deg,color-mix(in oklab,var(--brand) 70%,white 10%),color-mix(in oklab,var(--accent) 65%,white 20%));
    color:#fff; box-shadow:0 6px 16px color-mix(in oklab,var(--brand) 30%, transparent)}
  .brand-title{font-size:clamp(20px,3.6vw,28px);margin:0}
  .reader{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
  .btn{border:1px solid var(--border);background:var(--paper);color:var(--ink);padding:8px 12px;border-radius:12px;font-weight:800;cursor:pointer}
  .btn.small{padding:6px 10px;font-weight:700}
  main{max-width:1200px;margin:0 auto;padding:16px}
  .paper{max-width:var(--maxw);margin:10px auto 30px;padding:20px clamp(16px,3vw,26px);
    background:var(--paper);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow)}
  h1,h2,h3{color:color-mix(in oklab,var(--ink),var(--brand) 10%)}
  h1{font-size:clamp(28px,5vw,40px);line-height:1.2;margin:.4em 0 .2em}
  h2{font-size:clamp(22px,4vw,28px);line-height:1.28;margin:1.2em 0 .6em}
  h3{font-size:clamp(18px,3vw,22px);line-height:1.35;margin:1em 0 .4em}
  p{margin:.7em 0} ul,ol{margin:.6em 0 .8em 1.2em} li{margin:.25em 0}
  .lead{color:var(--muted)}
  .callout{background:color-mix(in oklab,var(--paper) 85%, var(--brand) 5%);border:1px solid var(--border);
    border-radius:12px;padding:12px 14px;margin:12px 0}
  .toc{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:10px;margin:12px 0}
  .toc a{display:block;text-decoration:none;border:1px solid var(--border);border-radius:12px;padding:10px 12px;
    color:color-mix(in oklab,var(--brand) 80%, var(--ink));background:color-mix(in oklab,var(--paper) 88%, transparent)}
  .examples{background:color-mix(in oklab,var(--paper) 88%, var(--accent) 4%);
    border:1px solid var(--border); border-radius:12px; padding:12px 14px; margin:12px 0}
  .examples h4{margin:.2em 0 .6em; font-size:1.05em}
  details{background:color-mix(in oklab,var(--paper) 94%, transparent);border:1px dashed var(--border);
    border-radius:10px;padding:8px 10px;margin:8px 0}
  summary{cursor:pointer;font-weight:700}
  code.k{padding:.1em .35em;border:1px solid var(--border);border-radius:8px;background:color-mix(in oklab,var(--paper) 90%, transparent)}
  .topbtn{position:fixed;right:16px;bottom:20px;z-index:55;background:var(--paper);border:1px solid var(--border);
    border-radius:12px;padding:10px 12px;font-weight:800;cursor:pointer;box-shadow:var(--shadow);display:none}
  .topbtn.show{display:block}
</style>
</head>
<body>
  <div class="progress" id="progress"></div>
  <div class="topbar">
    <div class="wrap" style="display:flex;align-items:center;justify-content:space-between;gap:12px">
      <a class="brand" href="#top">
        <div class="badge">‚àë</div>
        <div>
          <h1 class="brand-title">Matem√°ticas de Ingenier√≠a</h1>
          <div class="lead">Teor√≠a clara, f√≥rmulas entendibles y 144 ejercicios graduados</div>
        </div>
      </a>
      <div class="reader">
        <button class="btn small" id="fs-down" title="Reducir tama√±o de letra">A‚àí</button>
        <button class="btn small" id="fs-up"   title="Aumentar tama√±o de letra">A+</button>
        <button class="btn small" id="width-down" title="Reducir ancho de lectura">‚á§</button>
        <button class="btn small" id="width-up"   title="Aumentar ancho de lectura">‚á•</button>
        <button class="btn" id="theme-toggle" title="Tema claro/oscuro">‚òÄÔ∏è/üåô</button>
      </div>
    </div>
  </div>

  <main>
    <section class="paper" id="top">
      <h1>Gu√≠a de Matem√°ticas de Ingenier√≠a</h1>
      <p class="lead">Doce cap√≠tulos con teor√≠a mejorada, <strong>recuadros de f√≥rmulas</strong> que explican cu√°ndo y por qu√© aplicar cada expresi√≥n, <strong>ejemplos resueltos paso a paso</strong> y <strong>12 ejercicios por cap√≠tulo</strong> (144 en total) con respuesta breve para autoevaluarte.</p>
      <div class="callout"><strong>C√≥mo usarla.</strong> Lee la teor√≠a (üß†), revisa el recuadro de f√≥rmulas (üìå), estudia 2‚Äì5 ejemplos (üîç) y prueba los 12 ejercicios (üìù). Ajusta el tama√±o de letra y el ancho con los controles de la barra superior.</div>
      <div class="toc">
        <a href="#cap1">1. L√≠mites y continuidad</a>
        <a href="#cap2">2. Derivaci√≥n ‚Äî reglas y funciones</a>
        <a href="#cap3">3. Aplicaciones: extremos, Taylor, Newton‚ÄìRaphson</a>
        <a href="#cap4">4. Integrales ‚Äî definici√≥n y propiedades</a>
        <a href="#cap5">5. T√©cnicas de integraci√≥n</a>
        <a href="#cap6">6. Series num√©ricas</a>
        <a href="#cap7">7. Series de potencias y Taylor</a>
        <a href="#cap8">8. EDO de 1¬∫ y 2¬∫ orden (lineales)</a>
        <a href="#cap9">9. √Ålgebra lineal</a>
        <a href="#cap10">10. C√°lculo vectorial y teoremas</a>
        <a href="#cap11">11. Transformadas de Laplace y Fourier</a>
        <a href="#cap12">12. Probabilidad y estad√≠stica</a>
      </div>
    </section>

    <!-- ========= CAP√çTULO 1 ========= -->
    <section class="paper" id="cap1">
      <h2>1. L√≠mites y continuidad</h2>
      <div class="callout"><strong>üß† Objetivos.</strong> Dominar la definici√≥n de \(\lim\), reconocer discontinuidades, y usar compresi√≥n y l‚ÄôH√¥pital con criterio.</div>
      <div class="callout"><strong>üìå F√≥rmulas clave.</strong>
        <ul>
          <li>√Ålgebra de l√≠mites: si existen \(\lim f\) y \(\lim g\), entonces \(\lim(f\pm g)=\lim f\pm\lim g\), \(\lim(fg)=(\lim f)(\lim g)\), \(\lim(f/g)=(\lim f)/(\lim g)\) si el denominador l√≠mite \(\ne 0\).</li>
          <li>Compresi√≥n: si \(\alpha(x)\le f(x)\le \beta(x)\) y \(\lim\alpha=\lim\beta=L\), entonces \(\lim f=L\).</li>
          <li>Est√°ndar: \(\lim_{x\to 0} \dfrac{\sin x}{x}=1\), \(\lim_{x\to 0}\dfrac{1-\cos x}{x^2}=\tfrac12\).</li>
          <li>l‚ÄôH√¥pital: para \(0/0\) o \(\infty/\infty\), \(\displaystyle \lim \frac{f}{g}=\lim \frac{f'}{g'}\) si este √∫ltimo existe y \(g'\ne0\).</li>
        </ul>
      </div>
      <div class="examples">
        <h4>üîç Ejemplos resueltos (3)</h4>
        <ol>
          <li><details><summary>\(\displaystyle \lim_{x\to 0} \frac{\sin(5x)}{x}\)</summary>Multiplica y divide por 5: \(\dfrac{\sin(5x)}{x}=5\,\dfrac{\sin(5x)}{5x}\to 5\cdot1=5\).</details></li>
          <li><details><summary>\(\displaystyle \lim_{x\to 1} \frac{x^2-1}{x-1}\)</summary>Factoriza: \(\frac{(x-1)(x+1)}{x-1}\to x+1\to 2\).</details></li>
          <li><details><summary>\(\displaystyle \lim_{x\to 0} \frac{1-\cos x}{x^2}\)</summary>Usa la forma est√°ndar: vale \(\tfrac12\).</details></li>
        </ol>
      </div>
      <div class="examples">
        <h4>üìù Ejercicios (12)</h4>
        <ol>
          <li><details><summary>\(\lim_{x\to 0} \dfrac{\sin(3x)}{x}\)</summary>Respuesta: 3.</details></li>
          <li><details><summary>\(\lim_{x\to 2} \dfrac{x^2-4}{x-2}\)</summary>Respuesta: 4.</details></li>
          <li><details><summary>\(\lim_{x\to 0} \dfrac{\tan x}{x}\)</summary>Respuesta: 1.</details></li>
          <li><details><summary>\(\lim_{x\to 0} \dfrac{e^{x}-1}{x}\)</summary>Respuesta: 1.</details></li>
          <li><details><summary>\(\lim_{x\to \infty} \dfrac{3x^2-1}{x^2+2}\)</summary>Coeficientes l√≠deres ‚Üí 3.</details></li>
          <li><details><summary>\(\lim_{x\to 0} \dfrac{\sqrt{1+ax}-1}{x}\)</summary>Racionaliza ‚Üí \(a/2\).</details></li>
          <li><details><summary>Continuidad de \(f(x)=\begin{cases}x^2,&x\le 1\\2x+1,&x>1\end{cases}\)</summary>No es continua en 1 (saltan 1 y 3). Ajusta tramos para continuidad.</details></li>
          <li><details><summary>\(\lim_{x\to 0} \dfrac{\ln(1+x)}{x}\)</summary>Respuesta: 1.</details></li>
          <li><details><summary>\(\lim_{x\to 0} \dfrac{\sin x- x}{x^3}\)</summary>Serie de Taylor ‚Üí \(-\tfrac16\).</details></li>
          <li><details><summary>\(\lim_{x\to 0} \dfrac{\sqrt{1+x}-\sqrt{1-x}}{x}\)</summary>Racionaliza ‚Üí 1.</details></li>
          <li><details><summary>\(\lim_{x\to\infty} \big(1+\tfrac{k}{x}\big)^{x}\)</summary>Respuesta: \(e^{k}\).</details></li>
          <li><details><summary>Define \(f(1)=c\) para continuidad de \(\dfrac{x^2-1}{x-1}\) en 1</summary>Debe ser \(c=2\).</details></li>
        </ol>
      </div>
    </section>

    <!-- ========= CAP√çTULO 2 ========= -->
    <section class="paper" id="cap2">
      <h2>2. Derivaci√≥n ‚Äî reglas y funciones</h2>
      <div class="callout"><strong>üß† Objetivos.</strong> Derivar funciones elementales y compuestas justificando cada regla.</div>
      <div class="callout"><strong>üìå F√≥rmulas clave.</strong>
        <ul>
          <li>Linealidad: \((af+bg)'=af'+bg'\).</li>
          <li>Producto y cociente: \((fg)'=f'g+fg'\), \(\displaystyle (f/g)'=\frac{f'g-fg'}{g^2}\).</li>
          <li>Cadena: \((f\circ g)'=(f'\circ g)\,g'\).</li>
          <li>Derivadas b√°sicas: \( (x^n)'=nx^{n-1}\), \((e^x)'=e^x\), \((\ln x)'=1/x\), \((\sin x)'=\cos x\), \((\cos x)'=-\sin x\).</li>
        </ul>
      </div>
      <div class="examples">
        <h4>üîç Ejemplos resueltos (2)</h4>
        <ol>
          <li><details><summary>\(y=\ln(\sin x)\)</summary>Cadena: \(y'=\dfrac{1}{\sin x}\cdot\cos x=\cot x\).</details></li>
          <li><details><summary>\(y=\dfrac{e^{2x}}{x^3}\)</summary>Cociente: \(y'=\dfrac{2e^{2x}x^3-3x^2e^{2x}}{x^6}=\dfrac{e^{2x}(2x-3)}{x^4}\).</details></li>
        </ol>
      </div>
      <div class="examples">
        <h4>üìù Ejercicios (12)</h4>
        <ol>
          <li><details><summary>\(\frac{d}{dx}\,x^n\)</summary>\(nx^{n-1}\).</details></li>
          <li><details><summary>\(\frac{d}{dx}\,e^{ax}\)</summary>\(ae^{ax}\).</details></li>
          <li><details><summary>\(\frac{d}{dx}\,\ln(ax+b)\)</summary>\(\dfrac{a}{ax+b}\).</details></li>
          <li><details><summary>\(\frac{d}{dx}\,\sin(5x)\)</summary>\(5\cos(5x)\).</details></li>
          <li><details><summary>\(\frac{d}{dx}\,\tan x\)</summary>\(\sec^2 x\).</details></li>
          <li><details><summary>\(\frac{d}{dx}\,\sqrt{x}\)</summary>\(\tfrac{1}{2\sqrt x}\).</details></li>
          <li><details><summary>\(\frac{d}{dx}\,\ln\!\big(\sqrt{1+x^2}\big)\)</summary>\(\dfrac{x}{1+x^2}\).</details></li>
          <li><details><summary>\(\frac{d}{dx}\,\dfrac{\sin x}{x}\)</summary>\(\dfrac{x\cos x-\sin x}{x^2}\).</details></li>
          <li><details><summary>\(\frac{d}{dx}\,x e^{x}\)</summary>\(e^x(x+1)\).</details></li>
          <li><details><summary>\(\frac{d}{dx}\,\cos(x^2)\)</summary>\(-2x\sin(x^2)\).</details></li>
          <li><details><summary>\(\frac{d}{dx}\,\arctan x\)</summary>\(\dfrac{1}{1+x^2}\).</details></li>
          <li><details><summary>\(\frac{d}{dx}\,\dfrac{\ln x}{x}\)</summary>\(\dfrac{1-\ln x}{x^2}\).</details></li>
        </ol>
      </div>
    </section>

    <!-- ========= CAP√çTULO 3 ========= -->
    <section class="paper" id="cap3">
      <h2>3. Aplicaciones: extremos, Taylor, Newton‚ÄìRaphson</h2>
      <div class="callout"><strong>üß† Objetivos.</strong> Optimizar funciones, estudiar concavidad e inflexi√≥n y aproximar con Taylor; resolver ra√≠ces con Newton.</div>
      <div class="callout"><strong>üìå F√≥rmulas clave.</strong>
        <ul>
          <li>Extremos: \(f'(c)=0\) (necesaria). Test de \(f''\): si \(f''(c)>0\) m√≠nimo; si \(<0\) m√°ximo.</li>
          <li>Taylor: \(\displaystyle T_n(x)=\sum_{k=0}^n \frac{f^{(k)}(a)}{k!}(x-a)^k\); error de Lagrange \(\displaystyle R_{n+1}=\frac{f^{(n+1)}(\xi)}{(n+1)!}(x-a)^{n+1}\).</li>
          <li>Newton‚ÄìRaphson: \(x_{k+1}=x_k-\dfrac{f(x_k)}{f'(x_k)}\).</li>
        </ul>
      </div>
      <div class="examples">
        <h4>üîç Ejemplos resueltos (2)</h4>
        <ol>
          <li><details><summary>Minimiza \(A(x)=2x+\dfrac{100}{x}\), \(x>0\)</summary>\(A'=2-100/x^2=0\Rightarrow x=\sqrt{50}\). \(A''=200/x^3>0\) ‚áí m√≠nimo.</details></li>
          <li><details><summary>\(\ln(1+x)\) con \(T_2\) en 0</summary>\(x-\tfrac{x^2}{2}\) para \(|x|<1\).</details></li>
        </ol>
      </div>
      <div class="examples">
        <h4>üìù Ejercicios (12)</h4>
        <ol>
          <li><details><summary>Cr√≠ticos de \(x^3-3x\)</summary>0, ¬±1; clasifica con \(f''\).</details></li>
          <li><details><summary>M√°ximo de \(\sin x\cos x\)</summary>\(=\tfrac12\sin 2x\) ‚Üí m√°ximo \(1/2\).</details></li>
          <li><details><summary>Puntos de inflexi√≥n de \(x^4-2x^2\)</summary>En 0 y ¬±1.</details></li>
          <li><details><summary>\(T_3\) de \(e^x\) en 0</summary>\(1+x+\tfrac{x^2}{2}+\tfrac{x^3}{6}\).</details></li>
          <li><details><summary>\(T_2\) de \(\cos x\) en 0</summary>\(1-\tfrac{x^2}{2}\).</details></li>
          <li><details><summary>Una iteraci√≥n de Newton para \(x^2-2=0\) desde \(x_0=1\)</summary>\(x_1=1-\frac{-1}{2}=1.5\).</details></li>
          <li><details><summary>Dos iteraciones de Newton para \(\cos x=x\) desde 0.5</summary>Converge a ‚âà0.7391.</details></li>
          <li><details><summary>Optimiza \(V=x(10-2x)^2\)</summary>Deriva y resuelve \(V'=0\); soluci√≥n \(x=\tfrac{10}{6}\).</details></li>
          <li><details><summary>Aproxima \(\sqrt{1.1}\) con Taylor de \(\sqrt{1+x}\)</summary>‚âà \(1+\tfrac{1}{2}0.1-\tfrac{1}{8}0.1^2\)=1.0487.</details></li>
          <li><details><summary>Error de truncamiento de \(T_3\) de \(\sin x\) en \(|x|\le 0.2\)</summary>\(|R_4|\le \tfrac{|x|^4}{4!}\le 0.2^4/24\).</details></li>
          <li><details><summary>Clasifica \(f(x)=x^3\)</summary>Cr√≠tico 0, inflexi√≥n en 0.</details></li>
          <li><details><summary>Newton en \(x^3-2=0\) desde 1</summary>Dos pasos: 1‚Üí1.5‚Üí1.347...</details></li>
        </ol>
      </div>
    </section>

    <!-- ========= CAP√çTULO 4 ========= -->
    <section class="paper" id="cap4">
      <h2>4. Integrales ‚Äî definici√≥n y propiedades</h2>
      <div class="callout"><strong>üß† Objetivos.</strong> Entender la integral definida como l√≠mite de sumas y aplicar el Teorema Fundamental del C√°lculo (FTC).</div>
      <div class="callout"><strong>üìå F√≥rmulas clave.</strong>
        <ul>
          <li>Linealidad, simetr√≠a y descomposici√≥n de intervalos.</li>
          <li>Cambio de variable: si \(u=g(x)\), \(\int f(g)g'\,dx=\int f(u)\,du\).</li>
          <li>Partes: \(\int u\,dv=uv-\int v\,du\).</li>
          <li>FTC: si \(F'=f\), entonces \(\displaystyle \int_a^b f=F(b)-F(a)\).</li>
        </ul>
      </div>
      <div class="examples">
        <h4>üîç Ejemplos resueltos (2)</h4>
        <ol>
          <li><details><summary>\(\int x e^x\,dx\)</summary>Partes con \(u=x\), \(dv=e^x dx\): \(xe^x-e^x+C\).</details></li>
          <li><details><summary>\(\int_0^{\pi} \sin x\,dx\)</summary>Antiderivada \(-\cos x\) ‚Üí 2.</details></li>
        </ol>
      </div>
      <div class="examples">
        <h4>üìù Ejercicios (12)</h4>
        <ol>
          <li><details><summary>\(\int x^n\,dx\)</summary>\(\tfrac{x^{n+1}}{n+1}+C\) (\(n\ne-1\)).</details></li>
          <li><details><summary>\(\int e^{ax}\,dx\)</summary>\(\tfrac{1}{a}e^{ax}+C\).</details></li>
          <li><details><summary>\(\int \cos x\,dx\)</summary>\(\sin x+C\).</details></li>
          <li><details><summary>\(\int_0^{\pi} \cos x\,dx\)</summary>0 (simetr√≠a).</details></li>
          <li><details><summary>\(\int \dfrac{1}{x}\,dx\)</summary>\(\ln|x|+C\).</details></li>
          <li><details><summary>\(\int (3x^2-4x+1)\,dx\)</summary>\(x^3-2x^2+x+C\).</details></li>
          <li><details><summary>\(\int_1^{e} \dfrac{1}{x}\,dx\)</summary>1.</details></li>
          <li><details><summary>\(\int \sin(2x)\,dx\)</summary>\(-\tfrac{1}{2}\cos 2x+C\).</details></li>
          <li><details><summary>\(\int_0^{1} (1-2x)\,dx\)</summary>0.</details></li>
          <li><details><summary>\(\dfrac{d}{dx}\int_0^{x} \cos(t^2)\,dt\)</summary>\(\cos(x^2)\) (FTC parte 1).</details></li>
          <li><details><summary>\(\int_0^{\pi/2} \sin x\,dx\)</summary>1.</details></li>
          <li><details><summary>\(\int (x+1)e^x\,dx\)</summary>\(xe^x+e^x+C\).</details></li>
        </ol>
      </div>
    </section>

    <!-- ========= CAP√çTULO 5 ========= -->
    <section class="paper" id="cap5">
      <h2>5. T√©cnicas de integraci√≥n</h2>
      <div class="callout"><strong>üß† Objetivos.</strong> Elegir entre sustituci√≥n, partes o fracciones parciales con criterio.</div>
      <div class="callout"><strong>üìå Gu√≠a r√°pida.</strong>
        <ul>
          <li>Forma \(f(g(x))g'(x)\) ‚Üí sustituci√≥n.</li>
          <li>Producto polinomio¬∑exp/trig ‚Üí partes (a veces iterada).</li>
          <li>Racionales ‚Üí fracciones parciales tras factorizar el denominador.</li>
        </ul>
      </div>
      <div class="examples">
        <h4>üîç Ejemplos resueltos (2)</h4>
        <ol>
          <li><details><summary>\(\int \dfrac{dx}{x^2+1}\)</summary>\(\arctan x+C\).</details></li>
          <li><details><summary>\(\int \dfrac{2x+1}{x^2+x}\,dx\)</summary>Parciales: \(\dfrac{A}{x}+\dfrac{B}{x+1}\) ‚Üí \(A=1\), \(B=1\). Integra: \(\ln|x|+\ln|x+1|+C\).</details></li>
        </ol>
      </div>
      <div class="examples">
        <h4>üìù Ejercicios (12)</h4>
        <ol>
          <li><details><summary>\(\int x\sin x\,dx\)</summary>Partes: \(-x\cos x+\sin x+C\).</details></li>
          <li><details><summary>\(\int \ln x\,dx\)</summary>Partes: \(x\ln x-x+C\).</details></li>
          <li><details><summary>\(\int \dfrac{dx}{(x+a)^2}\)</summary>\(-\dfrac{1}{x+a}+C\).</details></li>
          <li><details><summary>\(\int \dfrac{x^2+1}{x}\,dx\)</summary>Divide: \(\tfrac{x^2+1}{x}=x+\tfrac{1}{x}\) ‚Üí integra.</details></li>
          <li><details><summary>\(\int x e^{2x}\,dx\)</summary>Partes una vez.</details></li>
          <li><details><summary>\(\int \dfrac{dx}{x^2-1}\)</summary>Parciales con factores lineales.</details></li>
          <li><details><summary>\(\int \dfrac{dx}{x^2+4x+5}\)</summary>Completa cuadrado y usa arctan.</details></li>
          <li><details><summary>\(\int x\cos x\,dx\)</summary>Partes.</details></li>
          <li><details><summary>\(\int \dfrac{x+2}{x^2+2x}\,dx\)</summary>Parciales.</details></li>
          <li><details><summary>\(\int \sqrt{ax+b}\,dx\)</summary>Sustituci√≥n \(u=\sqrt{ax+b}\) o \(u=ax+b\).</details></li>
          <li><details><summary>\(\int e^{x}\sin x\,dx\)</summary>Partes dos veces o m√©todo tabular.</details></li>
          <li><details><summary>\(\int \dfrac{dx}{x(x+1)}\)</summary>Parciales.</details></li>
        </ol>
      </div>
    </section>

    <!-- ========= CAP√çTULO 6 ========= -->
    <section class="paper" id="cap6">
      <h2>6. Series num√©ricas</h2>
      <div class="callout"><strong>üß† Objetivos.</strong> Determinar convergencia/divergencia con el criterio adecuado.</div>
      <div class="callout"><strong>üìå Criterios.</strong>
        <ul>
          <li>Comparaci√≥n, raz√≥n (d‚ÄôAlembert), ra√≠z (Cauchy), integral, Leibniz para alternantes.</li>
          <li>Geom√©trica: \(\sum ar^n=\dfrac{a}{1-r}\) si \(|r|<1\).</li>
        </ul>
      </div>
      <div class="examples">
        <h4>üîç Ejemplos resueltos (2)</h4>
        <ol>
          <li><details><summary>\(\sum \dfrac{1}{n^p}\)</summary>Converge si \(p>1\) (criterio integral).</details></li>
          <li><details><summary>\(\sum \dfrac{(-1)^n}{n}\)</summary>Alternante ‚Üí converge condicionalmente (Leibniz).</details></li>
        </ol>
      </div>
      <div class="examples">
        <h4>üìù Ejercicios (12)</h4>
        <ol>
          <li><details><summary>\(\sum \dfrac{1}{n}\)</summary>Diverge.</details></li>
          <li><details><summary>\(\sum \dfrac{1}{n^{3/2}}\)</summary>Converge.</details></li>
          <li><details><summary>\(\sum \dfrac{n!}{n^n}\)</summary>Converge (ra√≠z).</details></li>
          <li><details><summary>\(\sum \dfrac{2^n}{n!}\)</summary>Converge (raz√≥n).</details></li>
          <li><details><summary>\(\sum \dfrac{(-1)^n}{\sqrt n}\)</summary>Converge condicionalmente.</details></li>
          <li><details><summary>\(\sum \dfrac{3^n}{2^n}\)</summary>Diverge (geom√©trica con \(r=3/2\)).</details></li>
          <li><details><summary>\(\sum \dfrac{\ln n}{n^2}\)</summary>Converge (comparaci√≥n con \(1/n^{3/2}\)).</details></li>
          <li><details><summary>\(\sum \dfrac{1}{n(\ln n)^2}\)</summary>Converge (Cauchy‚ÄìCondensaci√≥n).</details></li>
          <li><details><summary>\(\sum \dfrac{1}{n\ln n}\)</summary>Diverge.</details></li>
          <li><details><summary>\(\sum (-1)^n\dfrac{\ln n}{n}\)</summary>Converge (Leibniz).</details></li>
          <li><details><summary>\(\sum \dfrac{n}{n+1}\)</summary>Diverge.</details></li>
          <li><details><summary>\(\sum \dfrac{1}{n^2+n}\)</summary>Converge (telesc√≥pica por parciales).</details></li>
        </ol>
      </div>
    </section>

    <!-- ========= CAP√çTULO 7 ========= -->
    <section class="paper" id="cap7">
      <h2>7. Series de potencias y Taylor</h2>
      <div class="callout"><strong>üß† Objetivos.</strong> Hallar radios de convergencia y aproximar funciones.</div>
      <div class="callout"><strong>üìå F√≥rmulas/ideas.</strong>
        <ul>
          <li>Serie \(\sum a_n (x-a)^n\) con radio \(R=1/\limsup \sqrt[n]{|a_n|}\).</li>
          <li>Dentro de \(|x-a|<R\) converge absolutamente; en la frontera hay que analizar aparte.</li>
        </ul>
      </div>
      <div class="examples">
        <h4>üîç Ejemplos resueltos (2)</h4>
        <ol>
          <li><details><summary>\(\dfrac{1}{1-x}=\sum_{n\ge0} x^n\)</summary>Para \(|x|<1\).</details></li>
          <li><details><summary>Taylor de \(\sin x\) en 0</summary>\(x-\tfrac{x^3}{3!}+\tfrac{x^5}{5!}-\cdots\).</details></li>
        </ol>
      </div>
      <div class="examples">
        <h4>üìù Ejercicios (12)</h4>
        <ol>
          <li><details><summary>Radio para \(\sum \dfrac{x^n}{n!}\)</summary>\(R=\infty\).</details></li>
          <li><details><summary>Radio para \(\sum n x^n\)</summary>\(R=1\).</details></li>
          <li><details><summary>Taylor de \(e^x\) a orden 3</summary>\(1+x+\tfrac{x^2}{2}+\tfrac{x^3}{6}\).</details></li>
          <li><details><summary>Taylor de \(\ln(1+x)\) a orden 3</summary>\(x-\tfrac{x^2}{2}+\tfrac{x^3}{3}\).</details></li>
          <li><details><summary>Taylor de \(\arctan x\) a orden 3</summary>\(x-\tfrac{x^3}{3}\).</details></li>
          <li><details><summary>Radio de \(\sum \dfrac{(x-2)^n}{3^n}\)</summary>\(R=3\).</details></li>
          <li><details><summary>Eval√∫a \(\sum_{n\ge0} (-1)^n x^{2n}\)</summary>\(=\dfrac{1}{1+x^2}\) para \(|x|<1\).</details></li>
          <li><details><summary>Usa serie para aproximar \(\ln 1.1\)</summary>‚âà0.09531.</details></li>
          <li><details><summary>Serie de \(\cos x\)</summary>\(1-\tfrac{x^2}{2!}+\tfrac{x^4}{4!}-\cdots\).</details></li>
          <li><details><summary>Serie de \(\dfrac{1}{1+x}\)</summary>\(1-x+x^2-\cdots\) (\(|x|<1\)).</details></li>
          <li><details><summary>Convergencia en \(x=1\) para \(\sum \dfrac{x^n}{n}\)</summary>Diverge.</details></li>
          <li><details><summary>Convergencia en \(x=-1\) para \(\sum \dfrac{x^n}{n}\)</summary>Converge condicionalmente.</details></li>
        </ol>
      </div>
    </section>

    <!-- ========= CAP√çTULO 8 ========= -->
    <section class="paper" id="cap8">
      <h2>8. EDO de 1¬∫ y 2¬∫ orden (lineales)</h2>
      <div class="callout"><strong>üß† Objetivos.</strong> Resolver EDO separables y lineales con coeficientes constantes, y forzamientos sencillos.</div>
      <div class="callout"><strong>üìå Recetas.</strong>
        <ul>
          <li>Separable: \(y'=f(x)g(y) \Rightarrow \int \frac{dy}{g(y)}=\int f(x)\,dx\).</li>
          <li>Lineal 1¬∫ orden: \(y'+p(x)y=q(x)\); factor integrante \(\mu=e^{\int p}\).</li>
          <li>2¬∫ orden homog√©nea C.C.: \(ay''+by'+cy=0\) ‚Üí caracter√≠stica \(ar^2+br+c=0\).</li>
        </ul>
      </div>
      <div class="examples">
        <h4>üîç Ejemplos resueltos (2)</h4>
        <ol>
          <li><details><summary>\(y'+y=e^x\)</summary>\(\mu=e^x\). \((ye^x)'=e^{2x}\) ‚Üí \(y=\tfrac{1}{2}e^x+Ce^{-x}\).</details></li>
          <li><details><summary>\(y''-3y'+2y=0\)</summary>Ra√≠ces 1 y 2 ‚Üí \(y=C_1e^x+C_2e^{2x}\).</details></li>
        </ol>
      </div>
      <div class="examples">
        <h4>üìù Ejercicios (12)</h4>
        <ol>
          <li><details><summary>\(y'=xy\)</summary>Separable ‚Üí \(y=Ce^{x^2/2}\).</details></li>
          <li><details><summary>\(y'+2y=0\)</summary>\(y=Ce^{-2x}\).</details></li>
          <li><details><summary>\(y'+y=\sin x\)</summary>Factor integrante; particular sinusoidal.</details></li>
          <li><details><summary>\(y''+y=0\)</summary>\(y=C_1\cos x+C_2\sin x\).</details></li>
          <li><details><summary>\(y''-y=0\)</summary>\(y=C_1e^x+C_2e^{-x}\).</details></li>
          <li><details><summary>\(y''+2y'+y=0\)</summary>Ra√≠z doble ‚àí1 ‚Üí \(y=(C_1+C_2 x)e^{-x}\).</details></li>
          <li><details><summary>\(y''+y=\cos x\)</summary>Particular \(A\cos x+B\sin x\).</details></li>
          <li><details><summary>\(y'+\tfrac{1}{x}y=1\)</summary>Lineal 1¬∫ orden.</details></li>
          <li><details><summary>\(y'=(1+y^2)\)</summary>Separable ‚Üí \(\arctan y=x+C\).</details></li>
          <li><details><summary>\(y'+3y=e^{-x}\)</summary>Factor integrante.</details></li>
          <li><details><summary>\(y''+4y=\sin 2x\)</summary>Resonancia: particular \(Cx\cos 2x+Dx\sin 2x\).</details></li>
          <li><details><summary>\(y''-3y'+2y=e^x\)</summary>Particular \(Ax e^x\).</details></li>
        </ol>
      </div>
    </section>

    <!-- ========= CAP√çTULO 9 ========= -->
    <section class="paper" id="cap9">
      <h2>9. √Ålgebra lineal</h2>
      <div class="callout"><strong>üß† Objetivos.</strong> Operar con matrices, resolver \(Ax=b\), encontrar autovalores y diagonalizar cuando sea posible.</div>
      <div class="callout"><strong>üìå F√≥rmulas clave.</strong>
        <ul>
          <li>Rango: n¬∫ m√°x. de filas/columnas l.i.</li>
          <li>Regla de Cramer (si \(\det A\ne0\)): \(x_i=\dfrac{\det A_i}{\det A}\).</li>
          <li>Autovalores: \(\det(A-\lambda I)=0\); si \(A\) tiene base de autovectores, \(A=PDP^{-1}\).</li>
        </ul>
      </div>
      <div class="examples">
        <h4>üîç Ejemplos resueltos (2)</h4>
        <ol>
          <li><details><summary>Gauss en un 3√ó3</summary>Escalonar hasta forma triangular y resolver retro-sustituyendo.</details></li>
          <li><details><summary>Autovalores de \(\begin{bmatrix}2&1\\0&3\end{bmatrix}\)</summary>\(\lambda=2,3\).</details></li>
        </ol>
      </div>
      <div class="examples">
        <h4>üìù Ejercicios (12)</h4>
        <ol>
          <li><details><summary>Inversa de \(\begin{bmatrix}a&b\\c&d\end{bmatrix}\)</summary>\(\dfrac{1}{ad-bc}\begin{bmatrix}d&-b\\-c&a\end{bmatrix}\).</details></li>
          <li><details><summary>Rango de una matriz 3√ó3</summary>Reduce por filas.</details></li>
          <li><details><summary>Soluciona \(Ax=b\) (2√ó2)</summary>Sustituci√≥n o Cramer.</details></li>
          <li><details><summary>Autovalores de \(\begin{bmatrix}0&-1\\1&0\end{bmatrix}\)</summary>\(\pm i\).</details></li>
          <li><details><summary>Diagonaliza \(\begin{bmatrix}3&0\\0&2\end{bmatrix}\)</summary>Ya diagonal.</details></li>
          <li><details><summary>¬øEs invertible \(\begin{bmatrix}1&2\\2&4\end{bmatrix}\)?</summary>No, \(\det=0\).</details></li>
          <li><details><summary>Proyecci√≥n de \(\vec v\) sobre \(\vec u\)</summary>\(\text{proj}_u v=\dfrac{v\cdot u}{u\cdot u}u\).</details></li>
          <li><details><summary>Norma \(\|x\|_2\) y distancia</summary>Eucl√≠dea.</details></li>
          <li><details><summary>Ortogonalidad de vectores</summary>Si \(u\cdot v=0\).</details></li>
          <li><details><summary>M√≠nimos cuadrados para 2 puntos</summary>Normal \((A^TA)\hat x=A^Tb\).</details></li>
          <li><details><summary>Base propia de \(\begin{bmatrix}2&1\\0&2\end{bmatrix}\)</summary>No diagonalizable (un solo autovalor).</details></li>
          <li><details><summary>Rango vs nulidad</summary>Teorema rango-nulidad.</details></li>
        </ol>
      </div>
    </section>

    <!-- ========= CAP√çTULO 10 ========= -->
    <section class="paper" id="cap10">
      <h2>10. C√°lculo vectorial y teoremas</h2>
      <div class="callout"><strong>üß† Objetivos.</strong> Calcular gradiente, divergencia y rotacional, e integrar campos usando Green, Gauss y Stokes.</div>
      <div class="callout"><strong>üìå F√≥rmulas clave.</strong>
        <ul>
          <li>\(\nabla f=(\partial_x f,\partial_y f,\partial_z f)\), \(\operatorname{div}\,\vec F=\nabla\cdot\vec F\), \(\operatorname{rot}\,\vec F=\nabla\times\vec F\).</li>
          <li>Green (2D), Gauss (3D), Stokes (superficies abiertas).</li>
        </ul>
      </div>
      <div class="examples">
        <h4>üîç Ejemplos resueltos (1)</h4>
        <ol>
          <li><details><summary>Flujo de \(\vec F=(x,y,z)\) por la esfera de radio R</summary>\(\operatorname{div}\vec F=3\). Gauss: flujo = \(\iiint_V 3\,dV=3\cdot\tfrac{4}{3}\pi R^3=4\pi R^3\).</details></li>
        </ol>
      </div>
      <div class="examples">
        <h4>üìù Ejercicios (12)</h4>
        <ol>
          <li><details><summary>Gradiente de \(x^2y+z\)</summary>\((2xy, x^2, 1)\).</details></li>
          <li><details><summary>Divergencia de \((x,y,z)\)</summary>3.</details></li>
          <li><details><summary>Rotacional de \((0,0,\phi(x,y))\)</summary>\((\partial_y\phi,-\partial_x\phi,0)\).</details></li>
          <li><details><summary>Campo conservativo?</summary>Si \(\nabla\times\vec F=0\) en dominio simplemente conexo.</details></li>
          <li><details><summary>Potencial de \(\vec F=(2x,2y,2z)\)</summary>\(\phi=x^2+y^2+z^2\)+cte.</details></li>
          <li><details><summary>Integral de l√≠nea de \((y,0)\) en recta (0,0)‚Üí(1,1)</summary>\(\int y\,dx=\int_0^1 t\,dt=1/2\).</details></li>
          <li><details><summary>Green para \(P=0, Q=x\) en rect√°ngulo</summary>√Årea del dominio.</details></li>
          <li><details><summary>Flujo de \(\vec F=(x,0,0)\) por plano \(x=1\)</summary>\(\iint 1\,dS\)=√°rea.</details></li>
          <li><details><summary>Circulaci√≥n de \(\vec F=(‚àíy,x,0)\) alrededor de c√≠rculo</summary>Usa Stokes ‚Üí \(\iint (\nabla\times F)\cdot n\,dS=2\pi r^2\).</details></li>
          <li><details><summary>Plano tangente a \(z=x^2+y^2\) en (1,1,2)</summary>\(z-2=2(x-1)+2(y-1)\).</details></li>
          <li><details><summary>√Årea por Green de pol√≠gono</summary>F√≥rmula del √°rea con integral de l√≠nea.</details></li>
          <li><details><summary>Trabajo de \(\vec F=(y,0)\) en curva \(y=x^2\)</summary>Parametriza y eval√∫a.</details></li>
        </ol>
      </div>
    </section>

    <!-- ========= CAP√çTULO 11 ========= -->
    <section class="paper" id="cap11">
      <h2>11. Transformadas de Laplace y Fourier</h2>
      <div class="callout"><strong>üß† Objetivos.</strong> Resolver EDO lineales y analizar se√±ales con transformadas.</div>
      <div class="callout"><strong>üìå Tablas b√°sicas.</strong>
        <ul>
          <li>Laplace: \(\mathcal L\{1\}=1/s\), \(\mathcal L\{e^{at}\}=1/(s-a)\), \(\mathcal L\{\sin bt\}=b/(s^2+b^2)\).</li>
          <li>Derivaci√≥n: \(\mathcal L\{f'\}=sF(s)-f(0)\).</li>
          <li>Fourier: \(\mathcal F\{f\}(\omega)=\int f(t)e^{-i\omega t}\,dt\); convoluci√≥n ‚Üî producto.</li>
        </ul>
      </div>
      <div class="examples">
        <h4>üîç Ejemplos resueltos (2)</h4>
        <ol>
          <li><details><summary>\(y'+y=e^{t}\) con Laplace</summary>Transforma, despeja \(Y(s)\), y antitransforma: \(y=\tfrac12 e^t + Ce^{-t}\).</details></li>
          <li><details><summary>Respuesta impulso de \(y''+y=\delta(t)\)</summary>\(y=\sin t\,H(t)\).</details></li>
        </ol>
      </div>
      <div class="examples">
        <h4>üìù Ejercicios (12)</h4>
        <ol>
          <li><details><summary>Laplace de \(t\)</summary>\(1/s^2\).</details></li>
          <li><details><summary>Laplace de \(\cos bt\)</summary>\(s/(s^2+b^2)\).</details></li>
          <li><details><summary>Desplazamiento temporal: \(f(t-a)H(t-a)\)</summary>\(e^{-as}F(s)\).</details></li>
          <li><details><summary>Resuelve \(y'+2y=1\) con Laplace</summary>\(y=\tfrac12+Ce^{-2t}\).</details></li>
          <li><details><summary>Convoluci√≥n de exponenciales iguales</summary>Suma de exponenciales con polinomio en t.</details></li>
          <li><details><summary>Fourier de gaussiana</summary>Otra gaussiana.</details></li>
          <li><details><summary>Fourier de rect√°ngulo</summary>\(\operatorname{sinc}\).</details></li>
          <li><details><summary>Serie de Fourier de funci√≥n impar</summary>Solo coeficientes \(b_n\).</details></li>
          <li><details><summary>Laplace de \(H(t)\)</summary>\(1/s\).</details></li>
          <li><details><summary>Laplace de \(\delta(t-a)\)</summary>\(e^{-as}\).</details></li>
          <li><details><summary>Resuelve \(y''+y=\sin t\)</summary>Usa Laplace.</details></li>
          <li><details><summary>Espectro de \(\cos \omega_0 t\)</summary>Picos en \(\pm\omega_0\).</details></li>
        </ol>
      </div>
    </section>

    <!-- ========= CAP√çTULO 12 ========= -->
    <section class="paper" id="cap12">
      <h2>12. Probabilidad y estad√≠stica</h2>
      <div class="callout"><strong>üß† Objetivos.</strong> Modelar incertidumbre, calcular probabilidades y construir IC/pruebas sencillas.</div>
      <div class="callout"><strong>üìå F√≥rmulas clave.</strong>
        <ul>
          <li>\(\operatorname{Var}(X)=E[X^2]-E[X]^2\).</li>
          <li>Binomial: \(P(X=k)=\binom{n}{k}p^k(1-p)^{n-k}\).</li>
          <li>Poisson: \(P(X=k)=e^{-\lambda}\lambda^k/k!\).</li>
          <li>Normal: tipifica \(Z=\dfrac{X-\mu}{\sigma}\).</li>
          <li>Exponencial: \(E[X]=1/\lambda\), sin memoria.</li>
        </ul>
      </div>
      <div class="examples">
        <h4>üîç Ejemplos resueltos (2)</h4>
        <ol>
          <li><details><summary>Dise√±o por Poisson (aver√≠as/h)</summary>\(P(X\le k)=\sum_{j=0}^k e^{-\lambda}\lambda^j/j!\).</details></li>
          <li><details><summary>IC de media con \(n\ge 30\)</summary>\(\bar x \pm z_{\alpha/2}\,\sigma/\sqrt n\).</details></li>
        </ol>
      </div>
      <div class="examples">
        <h4>üìù Ejercicios (12)</h4>
        <ol>
          <li><details><summary>Binomial \(n=10\), \(p=0.2\): \(P(X=3)\)</summary>\(\binom{10}{3}0.2^3 0.8^7\).</details></li>
          <li><details><summary>Poisson \(\lambda=4\): \(P(X=0)\)</summary>\(e^{-4}\).</details></li>
          <li><details><summary>Exponencial \(\lambda=2\): \(E[X]\)</summary>0.5.</details></li>
          <li><details><summary>Normal(\(\mu,\sigma\)): \(P(\mu-\sigma<X<\mu+\sigma)\)</summary>‚âà0.68.</details></li>
          <li><details><summary>Composici√≥n de varianzas \(Var(aX+b)\)</summary>\(a^2 Var(X)\).</details></li>
          <li><details><summary>Teorema central del l√≠mite</summary>Media muestral ‚âà normal para n grande.</details></li>
          <li><details><summary>IC media con \(\sigma\) desconocida</summary>t de Student.</details></li>
          <li><details><summary>Prueba Z bilateral</summary>Rechaza si |Z|>\(z_{\alpha/2}\).</details></li>
          <li><details><summary>Prueba t para medias</summary>Usa t con \(n-1\) g.l.</details></li>
          <li><details><summary>Bayes simple</summary>\(P(A|B)=\dfrac{P(B|A)P(A)}{P(B)}\).</details></li>
          <li><details><summary>Bernoulli: \(Var(X)\)</summary>\(p(1-p)\).</details></li>
          <li><details><summary>Poisson: \(Var(X)\)</summary>\(\lambda\).</details></li>
        </ol>
      </div>
    </section>

    <section class="paper">
      <h2>Errores t√≠picos y remedios</h2>
      <ul>
        <li>Usar l‚ÄôH√¥pital sin indeterminaci√≥n \(0/0\) o \(\infty/\infty\) ‚Üí factoriza o racionaliza primero.</li>
        <li>Olvidar la constante de integraci√≥n ‚Üí recuerda ‚Äú+C‚Äù.</li>
        <li>Confundir conservativo con \(\nabla\cdot\vec F=0\) ‚Üí lo decisivo es \(\nabla\times\vec F=0\) en dominio adecuado.</li>
      </ul>
    </section>
  </main>

  <button class="topbtn" id="topbtn">‚Üë Arriba</button>

  <script>
    const $ = s => document.querySelector(s);
    // Progress bar + top button
    const bar = $('#progress');
    function updateProgress(){
      const h = document.documentElement;
      const sc = h.scrollTop || document.body.scrollTop;
      const max = (h.scrollHeight - h.clientHeight);
      const p = max>0 ? (sc/max)*100 : 0;
      bar.style.width = p + '%';
      $('#topbtn').classList.toggle('show', sc>600);
    }
    addEventListener('scroll', updateProgress, {passive:true}); updateProgress();

    // Reader controls
    const root = document.documentElement;
    $('#fs-up').addEventListener('click', ()=>{
      const val = parseFloat(getComputedStyle(root).getPropertyValue('--base')) || 18;
      root.style.setProperty('--base', Math.min(val+1, 22)+'px');
    });
    $('#fs-down').addEventListener('click', ()=>{
      const val = parseFloat(getComputedStyle(root).getPropertyValue('--base')) || 18;
      root.style.setProperty('--base', Math.max(val-1, 14)+'px');
    });
    $('#width-up').addEventListener('click', ()=>{
      const w = getComputedStyle(root).getPropertyValue('--maxw') || '74ch';
      const num = parseFloat(w);
      root.style.setProperty('--maxw', Math.min(num+8, 92)+'ch');
    });
    $('#width-down').addEventListener('click', ()=>{
      const w = getComputedStyle(root).getPropertyValue('--maxw') || '74ch';
      const num = parseFloat(w);
      root.style.setProperty('--maxw', Math.max(num-8, 54)+'ch');
    });
    $('#theme-toggle').addEventListener('click', ()=>{
      const light = getComputedStyle(root).getPropertyValue('--paper').trim()==='#ffffff';
      if(light){ // switch to dark palette
        root.style.setProperty('--bg','#0b1220'); root.style.setProperty('--paper','#0e1628'); root.style.setProperty('--ink','#e6ecff');
        root.style.setProperty('--muted','#aab7d9'); root.style.setProperty('--brand','#60a5fa'); root.style.setProperty('--accent','#7dd3fc'); root.style.setProperty('--accent2','#34d399'); root.style.setProperty('--border','#203054');
      }else{ // back to light
        root.style.setProperty('--bg','#f7f9fc'); root.style.setProperty('--paper','#ffffff'); root.style.setProperty('--ink','#121826');
        root.style.setProperty('--muted','#48536b'); root.style.setProperty('--brand','#2563eb'); root.style.setProperty('--accent','#0ea5e9'); root.style.setProperty('--accent2','#22c55e'); root.style.setProperty('--border','#d9e1f2');
      }
    });
    $('#topbtn').addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));
  </script>
</body>
</html>

