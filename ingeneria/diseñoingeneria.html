<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CAD ¬∑ CAE ¬∑ Dise√±o ‚Äî Manual profesional (teor√≠a + flujo + plantillas + modelo CAD)</title>
<meta name="color-scheme" content="light dark"/>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<style>
  :root{
    --bg:#f6f7fb; --paper:#ffffff; --ink:#0f172a; --muted:#475569;
    --brand:#6d28d9; --accent:#8b5cf6; --accent2:#22d3ee;
    --border:#e5e7eb; --shadow:0 10px 30px rgba(15,23,42,.08);
    --radius:16px; --maxw:86ch; --base:18px; --lh:1.85;
  }
  @media (prefers-color-scheme: dark){
    :root{ --bg:#0b1220; --paper:#0e1628; --ink:#e6ecff; --muted:#aab7d9; --brand:#a78bfa; --accent:#c4b5fd; --accent2:#22d3ee; --border:#203054; --shadow:0 12px 28px rgba(0,0,0,.38); }
  }
  *{box-sizing:border-box}
  body{ margin:0; font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; font-size:var(--base); line-height:var(--lh); color:var(--ink);
    background:radial-gradient(1200px 740px at 90% -10%, #ede9fe 0%, transparent 60%),
               radial-gradient(900px 600px at 0% 120%, #cffafe 0%, transparent 70%), var(--bg); }
  .progress{position:fixed; inset:0 0 auto 0; height:4px; width:0; z-index:80; background:linear-gradient(90deg,var(--accent),var(--accent2))}
  .topbar{position:sticky; top:0; z-index:70; backdrop-filter:blur(10px) saturate(140%);
    background:color-mix(in oklab, var(--paper) 86%, transparent); border-bottom:1px solid var(--border); box-shadow:var(--shadow)}
  .wrap{max-width:1200px; margin:0 auto; padding:10px 16px; display:flex; align-items:center; justify-content:space-between; gap:12px}
  .brand{display:flex; align-items:center; gap:12px; text-decoration:none; color:inherit; font-weight:900}
  .badge{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;
    background:linear-gradient(135deg,color-mix(in oklab,var(--brand) 70%,white 10%),color-mix(in oklab,var(--accent) 65%,white 20%)); color:#fff; box-shadow:0 6px 16px color-mix(in oklab,var(--brand) 30%, transparent); font-size:22px}
  .brand-title{font-size:clamp(20px,3.6vw,28px);margin:0}
  .reader{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
  .btn{border:1px solid var(--border);background:var(--paper);color:var(--ink);padding:8px 12px;border-radius:12px;font-weight:800;cursor:pointer}
  .btn.small{padding:6px 10px;font-weight:700}
  .layout{max-width:1400px; margin:0 auto; padding:16px; display:grid; grid-template-columns: 280px 1fr; gap:16px}
  @media (max-width: 980px){ .layout{ grid-template-columns: 1fr } .aside{ position:static } }
  .aside{ position:sticky; top:74px; height:calc(100dvh - 88px); overflow:auto; border-right:1px dashed var(--border); padding-right:10px }
  .navcard{background:var(--paper); border:1px solid var(--border); border-radius:14px; padding:12px; box-shadow:var(--shadow)}
  .navcard h3{margin:.4em 0 .6em; font-size:1.0em}
  .navcard a{display:block; padding:.25em .4em; margin:.1em 0; text-decoration:none; border-radius:10px; color:color-mix(in oklab,var(--brand) 80%, var(--ink));}
  .navcard a:hover{background:color-mix(in oklab,var(--paper) 82%, var(--accent) 8%)}
  main{padding:0 2px}
  .paper{max-width:var(--maxw);margin:10px auto 30px;padding:20px clamp(16px,3vw,26px);
    background:var(--paper);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow)}
  h1,h2,h3{color:color-mix(in oklab,var(--ink),var(--brand) 14%)}
  h1{font-size:clamp(28px,5vw,40px);line-height:1.2;margin:.4em 0 .2em}
  h2{font-size:clamp(22px,4vw,28px);line-height:1.28;margin:1.1em 0 .6em}
  h3{font-size:clamp(18px,3vw,22px);line-height:1.35;margin:1em 0 .4em}
  p{margin:.7em 0} ul,ol{margin:.6em 0 .8em 1.2em} li{margin:.25em 0}
  .lead{color:var(--muted)}
  .callout{background:color-mix(in oklab,var(--paper) 85%, var(--brand) 6%);border:1px solid var(--border); border-radius:12px;padding:12px 14px;margin:12px 0}
  .examples{background:color-mix(in oklab,var(--paper) 88%, var(--accent) 4%); border:1px solid var(--border); border-radius:12px; padding:12px 14px; margin:12px 0}
  details{background:color-mix(in oklab,var(--paper) 94%, transparent);border:1px dashed var(--border); border-radius:10px;padding:8px 10px;margin:8px 0}
  summary{cursor:pointer;font-weight:700}
  code.k{display:block; white-space:pre; overflow:auto; padding:.8em; border:1px solid var(--border); border-radius:12px; background:color-mix(in oklab,var(--paper) 90%, transparent)}
  .tag{display:inline-block; padding:.2em .55em; border:1px solid var(--border); border-radius:999px; font-size:.78em; margin-right:.4em; color:var(--muted)}
  .grid{display:grid; grid-template-columns: repeat(auto-fit, minmax(260px,1fr)); gap:12px}
  .topbtn{position:fixed;right:16px;bottom:20px;z-index:60;background:var(--paper);border:1px solid var(--border); border-radius:12px;padding:10px 12px;font-weight:800;cursor:pointer;box-shadow:var(--shadow);display:none}
  .topbtn.show{display:block}
  .kbd{font-family:ui-monospace, SFMono-Regular, Menlo, monospace; border:1px solid var(--border); padding:.1em .4em; border-radius:6px; background:color-mix(in oklab,var(--paper) 90%, transparent)}
  .toc-inline a{margin-right:12px}
</style>
</head>
<body>
  <div class="progress" id="progress"></div>
  <div class="topbar">
    <div class="wrap">
      <a class="brand" href="#top">
        <div class="badge">üß©</div>
        <div>
          <h1 class="brand-title">CAD ¬∑ CAE ¬∑ Dise√±o ‚Äî Manual Profesional</h1>
          <div class="lead">Buenas pr√°cticas, est√°ndares, plantillas y un modelo CAD param√©trico listo para usar</div>
        </div>
      </a>
      <div class="reader">
        <button class="btn small" id="fs-down" title="Reducir tama√±o de letra">A‚àí</button>
        <button class="btn small" id="fs-up"   title="Aumentar tama√±o de letra">A+</button>
        <button class="btn small" id="width-down" title="Reducir ancho de lectura">‚á§</button>
        <button class="btn small" id="width-up"   title="Aumentar ancho de lectura">‚á•</button>
        <button class="btn" id="theme-toggle" title="Tema claro/oscuro">‚òÄÔ∏è/üåô</button>
      </div>
    </div>
  </div>

  <div class="layout">
    <aside class="aside">
      <div class="navcard">
        <h3>√çndice</h3>
        <nav id="sidenav">
          <a href="#cap0">Resumen ejecutivo</a>
          <a href="#cap1">1. Estrategia de modelado</a>
          <a href="#cap2">2. Parametr√≠a avanzada</a>
          <a href="#cap3">3. Modelado de superficies</a>
          <a href="#cap4">4. Dise√±o top‚Äìdown & contextos</a>
          <a href="#cap5">5. Ensamblajes y movimiento</a>
          <a href="#cap6">6. Dibujo t√©cnico y GD&T</a>
          <a href="#cap7">7. Tolerancias y apilamientos</a>
          <a href="#cap8">8. Est√°ndares y normalizaci√≥n</a>
          <a href="#cap9">9. DFM/DFA y costes</a>
          <a href="#cap10">10. Materiales y sostenibilidad</a>
          <a href="#cap11">11. CAE: FEA (lineal/no lineal)</a>
          <a href="#cap12">12. CAE: Buckling, fatiga y optimizaci√≥n</a>
          <a href="#cap13">13. CFD: del CAD al mallado</a>
          <a href="#cap14">14. CAM e impresi√≥n 3D (intro)</a>
          <a href="#cap15">15. PDM/PLM y control de cambios</a>
          <a href="#cap16">16. Checklist de calidad</a>
          <a href="#cap17">17. Proyecto: soporte en L (PRO)</a>
          <a href="#cap18">18. Ap√©ndices y plantillas</a>
        </nav>
      </div>
    </aside>

    <main>
      <section class="paper" id="cap0">
        <h2>Resumen ejecutivo</h2>
        <p>Este manual re√∫ne <span class="tag">teor√≠a</span><span class="tag">est√°ndares</span><span class="tag">buenas pr√°cticas</span><span class="tag">plantillas</span> para que un equipo pueda pasar de idea a producci√≥n con control: CAD param√©trico robusto, CAE con criterios de validaci√≥n, planos con GD&amp;T, y decisiones de DFM/DFA respaldadas por costos.</p>
        <div class="grid">
          <div class="callout"><strong>Objetivos.</strong> Robustez del modelo, trazabilidad, fabricabilidad, y verificaci√≥n.</div>
          <div class="callout"><strong>Resultados.</strong> CAD limpio (nombres/parametr√≠a), dibujos conformes ISO/ASME, simulaciones verificadas y checklist de liberaci√≥n.</div>
        </div>
      </section>

      <section class="paper" id="cap1">
        <h2>1. Estrategia de modelado</h2>
        <p>La estrategia correcta determina la <em>resiliencia</em> del dise√±o ante cambios.</p>
        <ul>
          <li><strong>√Årbol limpio:</strong> nombra croquis, operaciones y planos; agrupa por funci√≥n (esqueleto, features, redondeos, taladros).</li>
          <li><strong>Referencias estables:</strong> dimensiona desde planos/ejes, evita edges ef√≠meras. Usa <em>datum geometry</em>.</li>
          <li><strong>Orden recomendado:</strong> croquis base ‚Üí features principales ‚Üí vaciados/refuerzos ‚Üí taladros ‚Üí filetes/chaflanes.</li>
          <li><strong>Configuraciones:</strong> par√°metros/estados suprimidos para variantes (Light/HD, L/R, etc.).</li>
        </ul>
        <div class="examples">
          <h4>Antipatrones (ev√≠talos)</h4>
          <ul>
            <li>Patronar agujeros respecto a un borde que luego cambia.</li>
            <li>Filetear pronto: rompe muchas dependencias al cambiar espesores.</li>
            <li>Referencias externas no bloqueadas en <em>in-context</em>.</li>
          </ul>
        </div>
      </section>

      <section class="paper" id="cap2">
        <h2>2. Parametr√≠a avanzada</h2>
        <p>El par√°metro es la unidad de cambio. Centraliza y documenta.</p>
        <div class="grid">
          <div>
            <h3>Convenciones</h3>
            <ul>
              <li>Nomenclatura: <code>t_*</code> espesores, <code>L/W/H</code> medidas globales, <code>d_*</code> di√°metros, <code>p_*</code> pasos, <code>R</code> radios.</li>
              <li>Unidades expl√≠citas en descripciones y comentarios.</li>
              <li>Funciones: l√≠mites con <code>max()</code>/<code>min()</code> para evitar geometr√≠as degeneradas.</li>
            </ul>
          </div>
          <div>
            <h3>Ejemplo (tabla de par√°metros)</h3>
            <code class="k">// Clave de par√°metros globales
L=80; W=60; H=80; t=4; r=6; d_h=8; p=40; n_h=2; off=15;
// Reglas
r = min(r, min(W,H)/4);
n_h = max(1, n_h);
            </code>
          </div>
        </div>
        <details><summary>Expresiones √∫tiles</summary>
          <ul>
            <li><strong>Espesores m√≠nimos</strong>: <code>t ‚â• 0.4¬∑D_fresa</code> (mecanizado), <code>t ‚â• 2¬∑w_linea</code> (FFF).</li>
            <li><strong>Filetes autom√°ticos</strong>: <code>R = clamp(0.5¬∑t, 1, 6)</code>.</li>
          </ul>
        </details>
      </section>

      <section class="paper" id="cap3">
        <h2>3. Modelado de superficies</h2>
        <p>Para carcasas y formas aerodin√°micas, el <em>surfacing</em> permite continuidad y control local.</p>
        <ul>
          <li>Continuidades: <strong>G0</strong> (pos.), <strong>G1</strong> (tang.), <strong>G2</strong> (curv.).</li>
          <li>Flujo de isocurvas coherente; evita parches con √°ngulos agudos.</li>
          <li><em>Loft</em> con gu√≠as y <em>boundary fill</em>; remata con <em>thicken</em>.</li>
        </ul>
        <div class="examples"><h4>Checklist</h4>
          <ul><li>Seam alineado y oculto.</li><li>Curvas maestras bloqueadas en un <em>esqueleto</em>.</li><li>Verifica <em>zebra stripes</em> y an√°lisis de curvatura.</li></ul>
        </div>
      </section>

      <section class="paper" id="cap4">
        <h2>4. Dise√±o top‚Äìdown & contextos</h2>
        <p>El dise√±o <em>top‚Äìdown</em> minimiza errores en ensamblajes complejos.</p>
        <ul>
          <li><strong>Esqueleto</strong> (master sketch/part) con interfaces, datums, patrones.</li>
          <li>Deriva piezas hijas desde el esqueleto; controla referencias externas (bloquear, romper, publicar).</li>
          <li>Layouts 2D/3D para rutas de cables/tubos.</li>
        </ul>
      </section>

      <section class="paper" id="cap5">
        <h2>5. Ensamblajes y movimiento</h2>
        <ul>
          <li>Mates m√≠nimos para definir 6 GDL; usa subensamblajes l√≥gicos.</li>
          <li>Simulaciones de movimiento: contactos, fricci√≥n, servos, perfiles de tiempo.</li>
          <li>BOM: propiedades personalizadas (n¬∫ parte, material, masa, proveedor).</li>
        </ul>
        <details><summary>Plantilla de nomenclatura</summary>
          <code class="k">PROY-###-Pieza-Descripci√≥n-RevA
ASM-###-M√≥dulo-RevB
DWG-###-Pieza-RevB
          </code>
        </details>
      </section>

      <section class="paper" id="cap6">
        <h2>6. Dibujo t√©cnico y GD&amp;T</h2>
        <div class="callout">ISO 8015 (principios), ISO 1101 (indicaciones), ISO 5459 (datums), ISO 286 (ajustes), ISO 2768 (tolerancias generales), ISO 1302 (acabado).</div>
        <div class="grid">
          <ul>
            <li>Vistas: principal, auxiliares, secciones, detalle; escala y jerarqu√≠a.</li>
            <li>Acotaci√≥n funcional: desde datums A|B|C; evita cadenas largas.</li>
            <li>Tablas: roscas (ISO 261/965), taladros (ISO 273), acabados.</li>
          </ul>
          <ul>
            <li>GD&amp;T comunes: posici√≥n, planitud, perpendicularidad, paralelismo, concentricidad (evitar salvo necesidad).</li>
            <li>MMC/LMC, <em>bonus</em> y <em>datum shift</em>.</li>
          </ul>
        </div>
        <details><summary>Marco de control (ejemplo)</summary>
          <code class="k">‚ü¶ POS ‚üß ‚åÄ0.20 | M | A | B | C
A: Plano base; B/C: agujeros pasantes; tolerancia var√≠a con MMC.
          </code>
        </details>
      </section>

      <section class="paper" id="cap7">
        <h2>7. Tolerancias y apilamientos</h2>
        <p>Controla el riesgo de no‚Äìensamble. Dos m√©todos de c√°lculo: <em>escenario peor</em> y <em>RMS/RSS</em>.</p>
        <div class="grid">
          <div>
            <h3>Peor caso</h3>
            <p>Para cadenas 1D: \(T_{total}=\sum T_i\).</p>
          </div>
          <div>
            <h3>RSS</h3>
            <p>Asumiendo variaciones independientes: \(T_{rss}=\sqrt{\sum T_i^2}\).</p>
          </div>
        </div>
        <details><summary>Ejemplo de cadena</summary>
          <p>Separaci√≥n entre placas con separadores y arandelas: define signos y suma con peor caso/RSS. Verifica que \(gap_{min}>0\).</p>
        </details>
      </section>

      <section class="paper" id="cap8">
        <h2>8. Est√°ndares y normalizaci√≥n</h2>
        <ul>
          <li>Roscas: ISO m√©trica (coarse/fine), UNC/UNF si aplica.</li>
          <li>Agujeros y torniller√≠a: ISO 273, 4014, 4017; arandelas ISO 7089.</li>
          <li>Materiales: ISO/TR 15608 (agrupaci√≥n soldadura), designaciones EN/ASTM.</li>
        </ul>
        <div class="examples"><h4>Biblioteca propia</h4>
          <p>Construye una librer√≠a de features: taladro avellanado, chaveteros, alojamientos de rodamientos con chafl√°n y radios estandarizados.</p>
        </div>
      </section>

      <section class="paper" id="cap9">
        <h2>9. DFM/DFA y costes</h2>
        <ul>
          <li>Mecanizado: radios internos ‚â• herramienta; evitar bolsas ciegas profundas; accesos de herramienta.</li>
          <li>Chapa: radio de pliegue ‚â• <code>t</code>; deducci√≥n de pliegue y K‚Äìfactor calibrado.</li>
          <li>Inyecci√≥n: √°ngulos de desmoldeo (1‚Äì2¬∞), espesores uniformes, nervaduras con <code>t_rib‚âà0.5‚Äì0.7¬∑t</code>.</li>
          <li>Impresi√≥n 3D: orientaci√≥n para minimizar soportes; grosor m√≠nimo funcional.</li>
        </ul>
        <details><summary>Estimaci√≥n de coste r√°pida</summary>
          <p>Coste ‚âà tiempo de mecanizado + material + acabado + montaje. Tiempo ‚âà <code>longitud de trayectorias / feed</code> + cambios de herramienta.</p>
        </details>
      </section>

      <section class="paper" id="cap10">
        <h2>10. Materiales y sostenibilidad</h2>
        <ul>
          <li>M√©tricas: <em>resistencia espec√≠fica</em> \(\sigma/\rho\), <em>rigidez espec√≠fica</em> \(E/\rho\).</li>
          <li>Impacto: reciclabilidad, contenido reciclado, huella de CO‚ÇÇ del proceso.</li>
          <li>Selecci√≥n multicriterio (Ashby + coste + ciclo de vida).</li>
        </ul>
        <details><summary>Ejemplo</summary>
          <p>Al 6061-T6 vs Acero S355: Al reduce masa ~65%; si la rigidez es cr√≠tica, aumenta secci√≥n para igualar flecha.</p>
        </details>
      </section>

      <section class="paper" id="cap11">
        <h2>11. CAE: FEA (lineal y no lineal)</h2>
        <ul>
          <li>Lineal: peque√±as deformaciones, m√≥dulo constante, sin contactos deslizantes.</li>
          <li>No lineal: materiales (plasticidad), grandes deformaciones, contacto/fricci√≥n.</li>
          <li>Malla: tetra/hex; refinamiento en filetes/agujeros; <em>quality</em> (aspect ratio, skewness).</li>
          <li>Validaci√≥n: comparaciones manuales (vigas, placas), malla convergente (‚â§5%), BC realistas.</li>
        </ul>
        <details><summary>Pl√°stico bilineal (ejemplo)</summary>
          <p>Curva œÉ‚ÄìŒµ con hardening: valida la zona de plastificaci√≥n y <em>springback</em> en chapa.</p>
        </details>
      </section>

      <section class="paper" id="cap12">
        <h2>12. CAE: pandeo, fatiga y optimizaci√≥n</h2>
        <ul>
          <li><strong>Pandeo</strong>: factor de carga cr√≠tico eigen; aplica coeficientes de seguridad.</li>
          <li><strong>Fatiga</strong>: S‚ÄìN (W√∂hler), reglas de Miner; concentradores (K<sub>t</sub>).</li>
          <li><strong>Topolog√≠a</strong>: optimizaci√≥n con restricciones de masa/desplazamiento y direcciones de manufactura.</li>
        </ul>
        <details><summary>Secuencia t√≠pica</summary>
          <ol><li>Est√°tico para tensiones base.</li><li>Modal para evitar resonancias.</li><li>Fatiga a espectro de carga.</li><li>Topolog√≠a para aligerar.</li></ol>
        </details>
      </section>

      <section class="paper" id="cap13">
        <h2>13. CFD: del CAD al mallado</h2>
        <ul>
          <li>Limpiar CAD: cuerpos estancos, sin aristas abiertas; <em>defeature</em> de tornillos/fillets peque√±os.</li>
          <li>Dominio y BC: entradas/salidas, simetr√≠as, pared; elecci√≥n de modelo de turbulencia.</li>
          <li>Malla: <em>y+</em> objetivo; capas prism√°ticas; refinamiento en estelas.</li>
        </ul>
        <details><summary>Validaci√≥n</summary>
          <p>Coeficientes integrales (C<sub>D</sub>, C<sub>L</sub>), curvas caracter√≠sticas y estudios de independencia de malla.</p>
        </details>
      </section>

      <section class="paper" id="cap14">
        <h2>14. CAM e impresi√≥n 3D (intro)</h2>
        <ul>
          <li>CAM 2.5D/3D: selecci√≥n de herramienta, estrategia (parallel, scallop), <em>stock</em>, <em>tabs</em>.</li>
          <li>Impresi√≥n FFF/SLA/SLS: elecci√≥n de material, relleno, capas; orientaci√≥n por resistencia.</li>
        </ul>
        <details><summary>SLA vs FFF</summary>
          <p>SLA: mejor detalle/superficie; FFF: coste bajo y piezas funcionales con fibras.</p>
        </details>
      </section>

      <section class="paper" id="cap15">
        <h2>15. PDM/PLM y control de cambios</h2>
        <ul>
          <li>Estados: WIP ‚Üí In Review ‚Üí Released; firmantes.</li>
          <li>ECN/ECR: descripci√≥n, causa, impacto, piezas afectadas.</li>
          <li>Versionado: mayor (rotura compat.), menor (compatible), hotfix.</li>
        </ul>
        <details><summary>Plantilla de registro</summary>
          <code class="k">ECN-2025-014 | Cambio filete R6‚ÜíR8 por interferencias con tornillo M8 | Afecta: PROY-123-Soporte-L | Rev B‚ÜíC</code>
        </details>
      </section>

      <section class="paper" id="cap16">
        <h2>16. Checklist de calidad antes de liberar</h2>
        <div class="grid">
          <ul>
            <li>CAD sin <em>errors/suppressions</em> y con <em>rebuild</em> limpio.</li>
            <li>Material asignado y masa validada ¬±2%.</li>
            <li>Clearances ‚â• tolerancias acumuladas.</li>
          </ul>
          <ul>
            <li>Planos con datums y GD&amp;T m√≠nimos; notas generales ISO 2768‚Äìm.</li>
            <li>FEA con estudio de malla y comparaciones manuales.</li>
            <li>DFM revisado con proveedor/tecnolog√≠a objetivo.</li>
          </ul>
        </div>
      </section>

      <section class="paper" id="cap17">
        <h2>17. Proyecto: soporte en L (versi√≥n PRO)</h2>
        <p>Modelo param√©trico enriquecido con opciones: nervio, aligeramientos, avellanados y <em>slots</em> oblongos.</p>
        <h3>A) OpenSCAD ‚Äî modelo param√©trico</h3>
        <code class="k">// ‚Äî Soporte en L param√©trico (PRO) ‚Äî Unidades: mm
// ===== PAR√ÅMETROS =====
t = 5;  W = 80; H = 100; r = 8; d_h = 8; p = 40; n_h = 3; off = 18;
slot = true;  // agujeros oblongos
cs = true;    // avellanados para tornillo M8
rib = true;   // nervio interior
light = true; // aligeramientos

// ===== UTILIDADES =====
module countersink(d, head=16, ang=90, h=t){
  // cono para cabeza avellanada
  translate([0,0,t/2]) cylinder(h=h, d1=head, d2=d, $fn=64);
}
module slot_hole(len=16, d=d_h){
  hull(){ cylinder(h=t+2, d=d, $fn=48);
         translate([len,0,0]) cylinder(h=t+2, d=d, $fn=48); }
}
module L_base(){
  difference(){
    minkowski(){ union(){ cube([W,t,t]); cube([t,t,H]); } cylinder(h=0.01, r=r, $fn=64); }
    translate([-r,-r,-1]) cube([r,r,H+2]);
    translate([-r,-1,-r]) cube([W+2,t+2,r]);
  }
}
module holes(){
  for(i=[0:n_h-1]){
    translate([off+i*p, t/2, t/2])
      rotate([90,0,0]) (slot? slot_hole(10,d_h) : cylinder(h=t+2, d=d_h, $fn=48));
    translate([t/2, t/2, off+i*p])
      rotate([0,90,0]) (slot? slot_hole(10,d_h) : cylinder(h=t+2, d=d_h, $fn=48));
  }
}
module lighten(){
  if(light){
    translate([W*0.35, t/2, H*0.35]) rotate([0,0,0]) scale([1.2,1,1.2])
      cylinder(h=t+2, r=min(W,H)*0.22, $fn=6);
  }
}
module rib_inner(){ if(rib){ translate([t, t, 0]) polyhedron(points=[[0,0,0],[W-t,0,0],[0,0,H-t]], faces=[[0,1,2]]); } }

// ===== MODELO =====
difference(){
  union(){ L_base(); rib_inner(); }
  holes(); lighten();
}
if(cs){ // avellanados
  for(i=[0:n_h-1]){
    translate([off+i*p, 0, 0]) countersink(d_h, head=16);
    translate([0, 0, off+i*p]) rotate([0,90,0]) countersink(d_h, head=16);
  }
}
        </code>
        <details><summary>Pasos en Fusion/SolidWorks (PRO)</summary>
          <ol>
            <li>Configura par√°metros globales y crea <em>configurations</em> para Light/HD.</li>
            <li>Genera <em>slots</em> con <em>slot feature</em> controlado por <code>p</code> y <code>off</code>.</li>
            <li>Patrones dependientes: enlace patr√≥n vertical/horizontal a una tabla (excel/link). 
            </li>
            <li>Archivo de <em>design table</em> con variables y estados suprimidos.</li>
          </ol>
        </details>
        <h3>B) Mini‚ÄìFEA de validaci√≥n</h3>
        <ul>
          <li>BC: fija caras inferiores; carga distribuida en el extremo.
          <li>Malla: refinamiento local en filetes y en la ra√≠z del nervio.</li>
          <li>Criterio: \(\sigma_{max} < \sigma_y/FS\) con FS=2‚Äì3; \(\delta\) &lt; l√≠mite funcional.</li>
        </ul>
      </section>

      <section class="paper" id="cap18">
        <h2>18. Ap√©ndices y plantillas</h2>
        <div class="grid">
          <div>
            <h3>A) T√≠tulo de plano (texto)</h3>
            <code class="k">Proyecto: PROY-123  | Pieza: Soporte en L  | N¬∫ Parte: 123-001
Material: S355JR    | Acabado: Pintura RAL 9005
Tolerancias generales: ISO 2768-m | Rugosidad: Ra 3.2 (salvo indicaci√≥n)
Escala: 1:2 | Plano: DWG-123-001-RevC | Fecha: 2025-08-26</code>
          </div>
          <div>
            <h3>B) Notas generales (copiar/pegar)</h3>
            <code class="k">1) Quitar rebabas y cantos vivos ‚©æ 0.5 mm.
2) Todos los bordes con chafl√°n 0.5√ó45¬∞ salvo indicaci√≥n.
3) Tolerancias no especificadas: ISO 2768‚Äìm.
4) Material y tratamiento seg√∫n tabla.
5) Verificar masa y COG por control.
6) Inspecci√≥n GD&T seg√∫n plano.
            </code>
          </div>
          <div>
            <h3>C) Checklist de entrega</h3>
            <ul>
              <li>STEP (AP214/AP242), nativo CAD, PDF de planos, DXF de l√°ser (si chapa), STL (si 3D).</li>
              <li>BOM con n¬∫ parte, material, masa, proveedor.</li>
              <li>Registro ECN de cambios desde √∫ltima versi√≥n.</li>
            </ul>
          </div>
        </div>
      </section>

      <section class="paper">
        <h2>Errores t√≠picos y trucos</h2>
        <ul>
          <li>Usar edges ‚Äúm√≥viles‚Äù para acotar ‚Üí <em>siempre</em> desde datums.</li>
          <li>Ignorar manufactura desde el inicio ‚Üí el 80% del coste se decide en dise√±o.</li>
          <li>FEA sin validaci√≥n manual ‚Üí exige comparaciones simples y estudio de malla.</li>
          <li>GD&amp;T recargado ‚Üí selecciona lo esencial para funci√≥n e inspecci√≥n.</li>
        </ul>
      </section>
    </main>
  </div>

  <button class="topbtn" id="topbtn">‚Üë Arriba</button>

  <script>
    const $ = s => document.querySelector(s);
    const bar = $('#progress');
    function updateProgress(){ const h = document.documentElement; const sc = h.scrollTop || document.body.scrollTop; const max = (h.scrollHeight - h.clientHeight); const p = max>0 ? (sc/max)*100 : 0; bar.style.width = p + '%'; $('#topbtn').classList.toggle('show', sc>600); }
    addEventListener('scroll', updateProgress, {passive:true}); updateProgress();
    const root = document.documentElement;
    $('#fs-up').addEventListener('click', ()=>{ const val = parseFloat(getComputedStyle(root).getPropertyValue('--base')) || 18; root.style.setProperty('--base', Math.min(val+1, 22)+'px'); });
    $('#fs-down').addEventListener('click', ()=>{ const val = parseFloat(getComputedStyle(root).getPropertyValue('--base')) || 18; root.style.setProperty('--base', Math.max(val-1, 14)+'px'); });
    $('#width-up').addEventListener('click', ()=>{ const w = getComputedStyle(root).getPropertyValue('--maxw') || '86ch'; const num = parseFloat(w); root.style.setProperty('--maxw', Math.min(num+8, 110)+'ch'); });
    $('#width-down').addEventListener('click', ()=>{ const w = getComputedStyle(root).getPropertyValue('--maxw') || '86ch'; const num = parseFloat(w); root.style.setProperty('--maxw', Math.max(num-8, 60)+'ch'); });
    $('#theme-toggle').addEventListener('click', ()=>{ const light = getComputedStyle(root).getPropertyValue('--paper').trim()==='#ffffff'; if(light){ root.style.setProperty('--bg','#0b1220'); root.style.setProperty('--paper','#0e1628'); root.style.setProperty('--ink','#e6ecff'); root.style.setProperty('--muted','#aab7d9'); root.style.setProperty('--brand','#a78bfa'); root.style.setProperty('--accent','#c4b5fd'); root.style.setProperty('--accent2','#22d3ee'); root.style.setProperty('--border','#203054'); }else{ root.style.setProperty('--bg','#f6f7fb'); root.style.setProperty('--paper','#ffffff'); root.style.setProperty('--ink','#0f172a'); root.style.setProperty('--muted','#475569'); root.style.setProperty('--brand','#6d28d9'); root.style.setProperty('--accent','#8b5cf6'); root.style.setProperty('--accent2','#22d3ee'); root.style.setProperty('--border','#e5e7eb'); } });
    $('#topbtn').addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));
  </script>
</body>
</html>

